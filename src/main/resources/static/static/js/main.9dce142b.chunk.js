(this.webpackJsonpbp_client=this.webpackJsonpbp_client||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(24),r=a.n(i),c=(a(77),a(4)),l=a(5),o=a(7),d=a(6),b=a(10),j=a(0),u=function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(b.c,{exact:e.exact,activeClassName:"active",className:"nav-link",to:e.to,children:e.children})})},h=a(14),m=a(8),p=a.n(m),g=function(e){var t=e.token;e.isLoggedIn?p.a.defaults.headers.common.Authorization=t:delete p.a.defaults.headers.common.Authorization},x=function(e){return p.a.put("/users/updateUser",e)},O=function(e){return p.a.put("/users/updatePassword",e)},f=function(e){return p.a.post("/institutions/myInstitution",e)},v=function(e){return p.a.put("/institutions/myInstitution/updateImage",e)},C=function(e){return p.a.put("/institutions/myInstitution",e)},I=function(e){return p.a.post("/institutions/myInstitution/languages/"+e)},N=function(e){return p.a.post("/exhibits",e)},w=function(e){return p.a.delete("/exhibits/"+e)},A=function(e,t){return p.a.put("/exhibits/"+e+"/updateImage",t)},y=function(e,t){return p.a.put("/exhibits/"+e+"/updateInfoLabel",t)},S=function(e,t){return p.a.put("/exhibits/"+e,t)},E=function(e){return p.a.post("/institutions/myInstitution/addManager",e)},k=function(){return p.a.delete("/institutions/myInstitution")},L=function(e,t,a){return p.a.post("/translations/new/"+e+"/"+t,a)},D=function(e,t){return p.a.get("/translations/rate/"+e+"/"+t)},U=function(e,t){return p.a.put("/translations/like/"+e,t)},T=function(e,t){return p.a.put("/translations/official/"+e,t)},R=function(e,t){return p.a.delete("/translations/sequences/"+e+"/"+t)},G=function(e){return p.a.delete("/translations/sequence/"+e)},H=function(e,t){return p.a.put("/admin/users/"+e+"/updateUsername",t)},M=function(e){return p.a.put("/admin/users/"+e+"/updatePassword")},P=function(e,t){return p.a.put("/admin/users/"+e+"/updateTranslator",t)},B=function(e,t){return p.a.put("/admin/users/"+e+"/updateBan",t)},Q=function(e){return p.a.put("/admin/users/"+e+"/removeInstitution")},Y=function(e){return p.a.get("/exhibits/"+e+"/qrcode")},F=function(){return p.a.get("/location/buildings")},J=function(e){return p.a.post("/location/buildings",e)},X=function(e){return p.a.delete("/location/buildings/"+e)},z=function(e,t){return p.a.put("/location/buildings/"+t,e)},K=function(e){return p.a.delete("/location/rooms/"+e)},V=function(e){return p.a.get("/location/rooms/all/"+e)},Z=function(e,t){return p.a.post("/location/rooms/"+t,e)},q=function(e,t){return p.a.put("/location/rooms/"+t,e)},W=function(e){return p.a.delete("/location/showcases/"+e)},_=function(e){return p.a.get("/location/showcases/all/"+e)},$=function(e,t){return p.a.post("/location/showcases/"+t,e)},ee=function(e,t){return p.a.put("/location/showcases/"+t,e)},te="LOGOUT_SUCCESS",ae="LOGIN_SUCCESS",ne="SET_USERNAME",se="SET_EMAIL",ie="SET_IS_INSTITUTION_OWNER",re=a(71),ce=function(e){return function(t){return function(e){return p.a.post("/users/login",e)}(e).then((function(e){return t(le(e.data.token)),e}))}},le=function(e){var t=Object(re.a)(e),a={id:t.id,username:t.username,email:t.email,createdAt:t.createdAt,isTranslator:t.isTranslator,isInstitutionOwner:t.isInstitutionOwner,isAdmin:t.isAdmin,isLoggedIn:!0,token:e,expiredAt:t.exp};return{type:ae,payload:a}},oe=function(){return function(e){p.a.get("/users/token").then((function(t){e(le(t.data.token))}))}},de=function(e){return function(t){return function(e){return p.a.post("/users/register",e)}(e).then((function(a){var n={username:e.username,password:e.password};return t(ce(n))}))}},be=function(){return{type:te}},je=function(e){return{type:ie,payload:e}},ue=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user;return Object(j.jsx)("div",{className:"position-sticky w-100 fixed-header",children:Object(j.jsx)("nav",{className:"blue-nav navbar navbar-expand-lg navbar-light",id:"blue-nav",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(b.b,{className:"navbar-brand",to:"/",children:"CTS"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(j.jsxs)("ul",{className:"navbar-nav ml-auto d-flex align-items-center",children:[Object(j.jsx)(u,{exact:!0,to:"/",children:"Home"}),Object(j.jsx)(u,{exact:!0,to:"/info",children:"Info"}),t.isAdmin&&Object(j.jsx)(u,{to:"/users",children:"Users"}),t.isTranslator&&Object(j.jsx)(u,{to:"/institutions",children:"Translate"}),t.isTranslator&&Object(j.jsx)(u,{to:"/myTranslations",children:"My Translations"}),t.isInstitutionOwner&&Object(j.jsx)(u,{to:"/approve",children:"Approve"}),t.isLoggedIn&&Object(j.jsx)(u,{to:"/myInstitution",children:"My Institution"}),t.isLoggedIn?Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link",id:"navbarDropdown",role:"button",href:"/#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[t.username+" ",Object(j.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})]}),Object(j.jsxs)("div",{className:"my-dropdown dropdown-menu dropdown-menu-right","aria-labelledby":"navbarDropdown",children:[Object(j.jsxs)(b.c,{className:"dropdown-item",to:"/profile",children:[Object(j.jsx)("i",{className:"fa fa-user"})," My Profile"]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{onClick:function(t){t.preventDefault(),e.props.logout()},href:"/#",className:"dropdown-item",id:"logout",children:[Object(j.jsx)("i",{className:"fa fa-sign-out"})," Logout"]})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{to:"/signup",children:"Signup"}),Object(j.jsx)(u,{to:"/login",children:"Login"})]})]})})]})})})}}]),a}(n.Component),he=Object(h.b)((function(e){return{user:e}}),(function(e){return{logout:function(){return e(be())}}}))(ue);var me=function(e){return Object(j.jsxs)("footer",{className:"d-flex justify-content-center align-items-center w-100",children:[Object(j.jsx)("strong",{children:"CTS"}),Object(j.jsx)("span",{children:"\xa0\xa9Pavel \u010c\xe1cha"})]})},pe=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"minimal-content-height",children:[Object(j.jsx)(he,{}),Object(j.jsx)("section",{children:e.children})]}),Object(j.jsx)(me,{})]})},ge=a(12),xe=function(e){return Object(j.jsx)("div",{className:"intro",children:Object(j.jsx)("div",{className:"jumbotron jumbotron-fluid bg-transparent",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"blurred-black p-3 rounded-lg",children:[Object(j.jsx)("h1",{className:"display-4 font-weight-bold",children:"The System for Community Translation of Information Texts"}),Object(j.jsx)("p",{className:"lead font-weight-bold",children:"The place where you can show your skill while helping cultural institutions to grow"})]})})})})},Oe=function(e){return Object(j.jsx)("div",{className:"col mt-2 d-flex justify-content-center",children:Object(j.jsxs)("div",{className:"my-card border rounded",children:[Object(j.jsx)("h3",{children:e.title}),Object(j.jsx)("p",{className:"font-weight-bold",children:e.info})]})})},fe=function(e){return Object(j.jsxs)("div",{className:"bg-white",children:[Object(j.jsx)(xe,{}),Object(j.jsxs)("div",{className:"container mt-5 pb-5",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col d-flex justify-content-center align-items-center flex-column",children:[Object(j.jsx)("h3",{children:"Our goals"}),Object(j.jsx)("p",{children:"The site is intended for anyone who wants to participate in community translation of information texts of cultural institutions"})]})}),Object(j.jsxs)("div",{className:"row mt-3 pb-5",children:[Object(j.jsx)(Oe,{title:"Become a Translator",info:"Join the community of translators and start translating today!"}),Object(j.jsx)(Oe,{title:"Register Your Institution",info:"Register your institution and let the community translate your chosen information texts!"}),Object(j.jsx)(Oe,{title:"Mobile Application",info:"Visitors to your cultural institution will be able to find the translated texts in our mobile application!"})]}),Object(j.jsx)("div",{className:"row d-flex justify-content-center align-items-center flex-column",children:Object(j.jsx)("div",{className:"p-4",children:Object(j.jsx)(b.b,{exact:!0,to:"/info",children:Object(j.jsxs)("button",{type:"button",className:"btn btn-lg btn-success",children:[Object(j.jsx)("i",{className:"fa fa-flag-checkered"})," GET STARTED!"]})})})})]})]})},ve=a(9),Ce=function(e){return Object(j.jsxs)("button",{disabled:e.disabled,className:e.className||"btn btn-primary",onClick:e.onClick,children:[e.pendingApiCall&&Object(j.jsx)("div",{className:"spinner-border\r text-light spinner-border-sm mr-1",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})}),e.hasChildren?e.children:e.text]})},Ie=function(e){var t="form-control";"file"===e.type&&(t+=" custom-file-input"),void 0!==e.hasError&&(t+=e.hasError?" is-invalid":" is-valid");var a=Object(j.jsx)("input",{className:t,type:e.type||"text",name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange});return"file"===e.type?a=Object(j.jsxs)("div",{className:"custom-file",children:[Object(j.jsx)("input",{type:"file",className:t,id:"institutionImageFile",name:e.name,value:e.value,onChange:e.onChange,accept:e.onlyImage&&".jpg, .png, .jpeg"}),Object(j.jsx)("label",{className:"custom-file-label",htmlFor:"institutionImageFile",children:e.placeholder})]}):"textarea"===e.type&&(a=Object(j.jsx)("textarea",{className:t,name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange,rows:"3"})),Object(j.jsxs)(j.Fragment,{children:[e.label&&Object(j.jsx)("label",{className:"font-weight-bold",children:e.label}),a,e.hasError&&Object(j.jsx)("div",{className:"text-danger",children:Object(j.jsx)("small",{children:e.error})})]})};var Ne=function(e){return e.isAuth?Object(j.jsx)("div",{className:"container mx-auto my-5 px-3 py-3 px-md-5 py-md-5 border rounded gray-noise-background auth-div",children:e.children}):Object(j.jsx)("div",{className:"container mx-auto my-5 px-3 pb-3 pt-3 px-md-5 pb-md-5 pt-md-4 border rounded gray-noise-background",children:e.children})},we=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",apiError:{},pendingApiCall:!1},e.onChange=function(t){var a;e.setState((a={},Object(ve.a)(a,t.target.name,t.target.value),Object(ve.a)(a,"apiError",{}),a))},e.onClickLogin=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password};e.setState({pendingApiCall:!0}),e.props.login(a).then((function(t){e.setState({pendingApiCall:!1},(function(){e.props.history.push("/")}))})).catch((function(t){t.response&&e.setState({apiError:t.response.data,pendingApiCall:!1})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=!1;return""!==this.state.username&&""!==this.state.password||(t=!0),Object(j.jsx)(Ne,{isAuth:!0,children:Object(j.jsxs)("form",{children:[Object(j.jsx)("h2",{className:"mb-4 font-weight-bold",children:"Log in"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",name:"username",placeholder:"Enter name",value:this.state.username,onChange:this.onChange,hasError:this.state.apiError.username&&!0,error:this.state.apiError.username})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Password",name:"password",placeholder:"Enter password",type:"password",value:this.state.password,onChange:this.onChange,hasError:this.state.apiError.password&&!0,error:this.state.apiError.password})}),Object(j.jsxs)(Ce,{className:"btn btn-primary w-100 my-2",onClick:function(t){return e.onClickLogin(t)},disabled:t||this.state.pendingApiCall,pendingApiCall:this.state.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Log in"]}),Object(j.jsx)(b.b,{to:"/signup",children:"Don't have an account? Sign up"})]})})}}]),a}(n.Component),Ae=Object(h.b)(null,(function(e){return{login:function(t){return e(ce(t))}}}))(we),ye=a(2),Se=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",email:"",password:"",passwordRepeat:"",pendingApiCall:!1,errors:{},passwordRepeatConfirmed:!0},e.onChange=function(t){if("passwordRepeat"===t.target.name){var a=t.target.value,n=e.state.password===a,s=Object(ye.a)({},e.state.errors);s.passwordRepeat=n?"":"Passwords do not match",e.setState({passwordRepeatConfirmed:n,errors:s})}else if("password"===t.target.name){var i=t.target.value,r=e.state.passwordRepeat===i,c=Object(ye.a)({},e.state.errors);c.passwordRepeat=r?"":"Passwords do not match",delete c[t.target.name],e.setState({passwordRepeatConfirmed:r,errors:c})}else{var l=Object(ye.a)({},e.state.errors);delete l[t.target.name],e.setState({errors:l})}e.setState(Object(ve.a)({},t.target.name,t.target.value))},e.onClickSignup=function(t){t.preventDefault();var a={username:e.state.username,email:e.state.email,password:e.state.password};e.setState({pendingApiCall:!0}),e.props.signup(a).then((function(t){e.setState({pendingApiCall:!1},(function(){return e.props.history.push("/")}))})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCall:!1,errors:a})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=!1;return""!==this.state.username&&""!==this.state.email&&""!==this.state.password&&""!==this.state.passwordRepeat||(t=!0),Object(j.jsx)(Ne,{isAuth:!0,children:Object(j.jsxs)("form",{children:[Object(j.jsx)("h2",{className:"mb-4 font-weight-bold",children:"Sign up"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",placeholder:"Enter name",name:"username",value:this.state.username,onChange:this.onChange,hasError:this.state.errors.username&&!0,error:this.state.errors.username})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"E-mail",placeholder:"Enter e-mail",name:"email",value:this.state.email,onChange:this.onChange,hasError:this.state.errors.email&&!0,error:this.state.errors.email})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Password",placeholder:"Enter password",name:"password",value:this.state.password,onChange:this.onChange,type:"password",hasError:this.state.errors.password&&!0,error:this.state.errors.password})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Confirm Password",placeholder:"Enter password again",name:"passwordRepeat",value:this.state.passwordRepeat,onChange:this.onChange,type:"password",hasError:this.state.errors.passwordRepeat&&!0,error:this.state.errors.passwordRepeat})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickSignup(t)},className:"btn btn-primary w-100 my-2",disabled:this.state.pendingApiCall||!this.state.passwordRepeatConfirmed||t,pendingApiCall:this.state.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Sign up"]}),Object(j.jsx)(b.b,{to:"/info",children:"New here? Read instructions"})]})})}}]),a}(n.Component),Ee=Object(h.b)(null,(function(e){return{signup:function(t){return e(de(t))}}}))(Se),ke=a(25),Le=a(72),De={id:0,username:"",email:"",createdAt:null,isTranslator:!1,isInstitutionOwner:!1,isAdmin:!1,isLoggedIn:!1,token:"",expiredAt:null};function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(ye.a)({},De);case ae:return Object(ye.a)({},t.payload);case ne:return Object(ye.a)(Object(ye.a)({},e),{},{username:t.payload});case se:return Object(ye.a)(Object(ye.a)({},e),{},{email:t.payload});case ie:return Object(ye.a)(Object(ye.a)({},e),{},{isInstitutionOwner:t.payload});default:return e}}var Te=localStorage.getItem("user"),Re={id:0,username:"",email:"",createdAt:null,isTranslator:!1,isInstitutionOwner:!1,isAdmin:!1,isLoggedIn:!1,token:"",expiredAt:null},Ge=Re,He=!1;if(Te)try{Ge=JSON.parse(Te);var Me=Date.now()/1e3;Ge.expiredAt>Me?(g(Ge),He=!0):Ge=Re}catch(ka){console.log("Error parsing stored user")}var Pe,Be=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Qe=[Le.a];(Pe=window.navigator.userAgent.includes("Chrome")&&Be?Object(ke.c)(Ue,Ge,Object(ke.b)(ke.a.apply(void 0,Qe),Be)):Object(ke.c)(Ue,Ge,Object(ke.b)(ke.a.apply(void 0,Qe)))).subscribe((function(){var e=Pe.getState();localStorage.setItem("user",JSON.stringify(e)),g(e),setTimeout((function(){e.id===Pe.getState().id&&Pe.dispatch(oe())}),6e8)})),He&&Pe.dispatch(oe());var Ye=Pe;function Fe(e){return new Promise((function(t,a){var n=e.response.status;401!==n&&403!==n||Ye.dispatch(be()),a(e)}))}var Je=function(e){return Object(j.jsx)("nav",{"aria-label":"breadcrumb",children:Object(j.jsxs)("ol",{className:"breadcrumb",children:[Object(j.jsx)("li",{className:"breadcrumb-item",children:Object(j.jsx)(b.b,{exact:!0,to:"/",children:Object(j.jsx)("button",{className:"button-link",children:Object(j.jsx)("span",{className:"fa fa-home"})})})}),e.children]})})};var Xe=function(e){return Object(j.jsx)("div",{className:"d-flex justify-content-center mt-2 mb-4",children:Object(j.jsx)("div",{className:"text-center info-banner py-4 px-5 d-flex flex-column-reverse justify-content-center border rounded",children:Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("h5",{children:e.children})]})})})},ze=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:e.props.user.username,email:e.props.user.email,password:"",passwordRepeat:"",passwordRepeatConfirmed:!0,pendingApiCallUpdateUser:!1,pendingApiCallUpdatePassword:!1,userUpdated:!1,passwordUpdated:!1,errors:{}},e.onChange=function(t){if("passwordRepeat"===t.target.name){var a=t.target.value,n=e.state.password===a,s=Object(ye.a)({},e.state.errors);s.passwordRepeat=n?"":"Passwords do not match",e.setState({passwordRepeatConfirmed:n,errors:s,passwordUpdated:!1})}else if("password"===t.target.name){var i=t.target.value,r=e.state.passwordRepeat===i,c=Object(ye.a)({},e.state.errors);c.passwordRepeat=r?"":"Passwords do not match",delete c[t.target.name],e.setState({passwordRepeatConfirmed:r,errors:c,passwordUpdated:!1})}else{var l=Object(ye.a)({},e.state.errors);delete l[t.target.name],e.setState({errors:l,userUpdated:!1})}e.setState(Object(ve.a)({},t.target.name,t.target.value))},e.handleApiError=function(t,a){if(t.response.data&&t.response.data.validationErrors){var n,s=Object(ye.a)(Object(ye.a)({},e.state.errors),t.response.data.validationErrors);e.setState((n={},Object(ve.a)(n,a,!1),Object(ve.a)(n,"errors",s),n))}},e.onClickUserUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdateUser:!0});var a=e.state,n=a.username,s=a.email;x({username:n,email:s}).then((function(t){e.setState({pendingApiCallUpdateUser:!1,userUpdated:!0}),e.props.setUsername(n),e.props.setEmail(s)})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUpdateUser")}))},e.onClickPasswordUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdatePassword:!0});var a=e.state.password;O({password:a}).then((function(t){var a=Object(ye.a)({},e.state.errors);delete a.passwordRepeat,e.setState({errors:a,pendingApiCallUpdatePassword:!1,passwordUpdated:!0,password:"",passwordRepeat:""})})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUpdatePassword")}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,s=t.password,i=t.passwordRepeat,r=t.pendingApiCallUpdateUser,c=t.pendingApiCallUpdatePassword,l=t.passwordRepeatConfirmed,o=t.userUpdated,d=t.passwordUpdated,b=t.errors,u=this.props.user.createdAt;return Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"My Profile"})}),Object(j.jsx)(Xe,{name:"My Profile",children:"Edit your profile information"}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Registration date: "}),new Date(1*u).toLocaleDateString("en-UK")]}),Object(j.jsxs)("form",{className:"mb-4",children:[o&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Personal information has been updated"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",name:"username",value:a,onChange:this.onChange,hasError:b.username&&!0,error:b.username})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"E-mail",name:"email",value:n,onChange:this.onChange,hasError:b.email&&!0,error:b.email})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickUserUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:r||""===a||""===n,pendingApiCall:r,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update information"]})]}),Object(j.jsxs)("form",{children:[d&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Password ha been updated"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Password",placeholder:"Enter password",name:"password",value:s,onChange:this.onChange,type:"password",hasError:b.password&&!0,error:b.password})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Confirm Password",placeholder:"Enter password again",name:"passwordRepeat",value:i,onChange:this.onChange,type:"password",hasError:b.passwordRepeat&&!0,error:b.passwordRepeat})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickPasswordUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:c||!l||""===s||""===i,pendingApiCall:c,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Change password"]})]})]})}}]),a}(n.Component),Ke=Object(h.b)((function(e){return{user:e}}),(function(e){return{setUsername:function(t){return e(function(e){return{type:ne,payload:e}}(t))},setEmail:function(t){return e(function(e){return{type:se,payload:e}}(t))}}}))(ze),Ve=function(){return Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsx)("div",{className:"spinner-border text-black-50 m-auto",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})})},Ze=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",address:"",description:"",latitudeString:"",longitudeString:"",encodedImage:null,imageSelect:"",pendingApiCall:!1,errors:{}},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e.onImageSelect=function(t){var a=Object(ye.a)({},e.state.errors);if(delete a.encodedImage,e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value)),0!==t.target.files.length){var n=t.target.files[0],s=new FileReader;s.onloadend=function(){e.setState({encodedImage:s.result})},s.readAsDataURL(n)}},e.clearImage=function(){var t=Object(ye.a)({},e.state.errors);delete t.encodedImage,e.setState({errors:t,encodedImage:null,imageSelect:""})},e.onClickCreate=function(t){t.preventDefault(),e.setState({pendingApiCall:!0});var a={name:e.state.name,address:e.state.address,description:e.state.description,latitudeString:e.state.latitudeString,longitudeString:e.state.longitudeString,encodedImage:e.state.encodedImage};f(a).then((function(t){e.setState({pendingApiCall:!1},(function(){e.props.setIsInstitutionOwner(!0),e.props.redirect("/myInstitution/addLanguages")}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCall:!1,errors:a})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=!1;return""!==this.state.name&&""!==this.state.address&&""!==this.state.description&&""!==this.state.latitudeString&&""!==this.state.longitudeString||(t=!0),Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Create Institution"})}),Object(j.jsx)(Xe,{name:"Create Institution",children:"Create a cultural institution and become its administrator"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)(Ie,{type:"file",onlyImage:!0,value:this.state.imageSelect,name:"imageSelect",label:"Institution image",placeholder:"Select institution image",onChange:this.onImageSelect,hasError:this.state.errors.encodedImage&&!0,error:this.state.errors.encodedImage}),this.state.encodedImage&&Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail mt-2",src:this.state.encodedImage,alt:"upload"}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{className:"btn btn-danger btn-lg mt-2",onClick:this.clearImage,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Clear"]})]})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name*",placeholder:"Enter name",name:"name",value:this.state.name,onChange:this.onChange,hasError:this.state.errors.name&&!0,error:this.state.errors.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Address*",placeholder:"Enter address",name:"address",value:this.state.address,onChange:this.onChange,hasError:this.state.errors.address&&!0,error:this.state.errors.address})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description*",type:"textarea",placeholder:"Enter description",name:"description",value:this.state.description,onChange:this.onChange,hasError:this.state.errors.description&&!0,error:this.state.errors.description})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Latitude*",placeholder:"Enter latitude",name:"latitudeString",value:this.state.latitudeString,onChange:this.onChange,hasError:this.state.errors.latitudeString&&!0,error:this.state.errors.latitudeString})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Longitude*",placeholder:"Enter longitude",name:"longitudeString",value:this.state.longitudeString,onChange:this.onChange,hasError:this.state.errors.longitudeString&&!0,error:this.state.errors.longitudeString})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickCreate(t)},className:"btn btn-primary w-100 my-2",disabled:this.state.pendingApiCall||t,pendingApiCall:this.state.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Create institution"]})]})]})}}]),a}(n.Component),qe=Object(h.b)(null,(function(e){return{setIsInstitutionOwner:function(t){return e(je(t))}}}))(Ze),We="http://localhost:8080/",_e=We+"institutions_images/",$e=We+"exhibits_images/",et=We+"info_labels_images/",tt="Select...",at=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:e.props.institution.name,address:e.props.institution.address,description:e.props.institution.description,latitudeString:e.props.institution.latitude,longitudeString:e.props.institution.longitude,image:e.props.institution.image,encodedImage:null,imageSelect:"",createdAt:e.props.institution.createdAt,email:"",pendingApiCallUpdateInstitution:!1,pendingApiCallUpdateImage:!1,pendingApiCallDeleteInstitution:!1,pendingApiCallAddManager:!1,institutionUpdated:!1,imageUpdated:!1,managerAdded:!1,errors:{}},e.onImageSelect=function(t){var a,n=Object(ye.a)({},e.state.errors);if(delete n.encodedImage,e.setState((a={errors:n},Object(ve.a)(a,t.target.name,t.target.value),Object(ve.a)(a,"imageUpdated",!1),a)),0!==t.target.files.length){var s=t.target.files[0],i=new FileReader;i.onloadend=function(){e.setState({encodedImage:i.result})},i.readAsDataURL(s)}},e.clearImage=function(){var t=Object(ye.a)({},e.state.errors);delete t.encodedImage,e.setState({errors:t,encodedImage:null,imageSelect:""})},e.handleApiError=function(t,a){if(t.response.data&&t.response.data.validationErrors){var n,s=Object(ye.a)(Object(ye.a)({},e.state.errors),t.response.data.validationErrors);e.setState((n={},Object(ve.a)(n,a,!1),Object(ve.a)(n,"errors",s),n))}},e.onClickImageUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdateImage:!0});var a={encodedImage:e.state.encodedImage};v(a).then((function(t){e.setState({pendingApiCallUpdateImage:!1,image:t.data.message,imageUpdated:!0},(function(){e.clearImage()}))})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUpdateImage")}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a,institutionUpdated:!1},t.target.name,t.target.value))},e.onEmailChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a,managerAdded:!1},t.target.name,t.target.value))},e.onClickInstitutionUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdateInstitution:!0});var a={name:e.state.name,address:e.state.address,description:e.state.description,latitudeString:e.state.latitudeString,longitudeString:e.state.longitudeString};C(a).then((function(t){e.setState({pendingApiCallUpdateInstitution:!1,institutionUpdated:!0})})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUpdateInstitution")}))},e.onClickInstitutionDelete=function(){window.confirm("Do you really want to delete your institution?")&&(e.setState({pendingApiCallDeleteInstitution:!0}),k().then((function(t){e.setState({pendingApiCallDeleteInstitution:!1},(function(){e.props.setIsInstitutionOwner(!1),e.props.redirect("/")}))})).catch((function(e){return Fe(e)})))},e.onClickManagerAdd=function(t){t.preventDefault(),window.confirm("Do you really want to add a new manager to your institution?")&&(e.setState({pendingApiCallAddManager:!0}),E({email:e.state.email}).then((function(t){e.setState({pendingApiCallAddManager:!1,email:""},(function(){return e.setState({managerAdded:!0})}))})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallAddManager")})))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.address,s=t.description,i=t.latitudeString,r=t.longitudeString,c=t.image,l=t.encodedImage,o=t.imageSelect,d=t.email,u=t.pendingApiCallUpdateInstitution,h=t.pendingApiCallUpdateImage,m=t.pendingApiCallDeleteInstitution,p=t.pendingApiCallAddManager,g=t.institutionUpdated,x=t.imageUpdated,O=t.managerAdded,f=t.errors;return Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"My Institution"})}),Object(j.jsx)(Xe,{name:"My Institution",children:"Here you can manage your institution"}),Object(j.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(j.jsx)("div",{className:"col-lg col-sm-6 col-md-6 text-center",children:Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/addLanguages",children:Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-primary mb-3 institution-nav",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Languages"}),Object(j.jsx)("p",{className:"card-text",children:"Add languages that translators will be able to translate"})]})})})}),Object(j.jsx)("div",{className:"col-lg col-sm-6 col-md-6 text-center",children:Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/addExhibit",children:Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-success mb-3 institution-nav",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"New Exhibits"}),Object(j.jsx)("p",{className:"card-text",children:"Add new exhibits with their information labels to your institution"})]})})})}),Object(j.jsx)("div",{className:"col-lg col-sm-6 col-md-6 text-center",children:Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/exhibits",children:Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-info mb-3 institution-nav",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"View Exhibits"}),Object(j.jsx)("p",{className:"card-text",children:"Get QR codes and manage your institution's exhibits"})]})})})}),Object(j.jsx)("div",{className:"col-lg col-sm-6 col-md-6 text-center",children:Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/buildings",children:Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary mb-3 institution-nav",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Navigation"}),Object(j.jsx)("p",{className:"card-text",children:"Add and edit buildings, rooms and showcases for visitor navigation"})]})})})})]}),Object(j.jsxs)("form",{className:"mb-4 mt-4",children:[x&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Institution image updated"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)(Ie,{type:"file",onlyImage:!0,value:o,name:"imageSelect",label:"Institution image",placeholder:"Select institution image",onChange:this.onImageSelect,hasError:f.encodedImage&&!0,error:f.encodedImage}),l?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail mt-2",src:l,alt:"upload"}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{className:"btn btn-danger btn-lg mt-2",disabled:h,onClick:this.clearImage,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Clear"]}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickImageUpdate(t)},className:"btn btn-success btn-lg ml-2 mt-2",disabled:h,pendingApiCall:h,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update image"]})]}):Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail mt-2",src:_e+c,alt:"upload"})})]})]}),Object(j.jsxs)("form",{children:[g&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Institution information updated"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:f.name&&!0,error:f.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Address",placeholder:"Enter address",name:"address",value:n,onChange:this.onChange,hasError:f.address&&!0,error:f.address})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:s,onChange:this.onChange,hasError:f.description&&!0,error:f.description})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Latitude",placeholder:"Enter latitude",name:"latitudeString",value:i,onChange:this.onChange,hasError:f.latitudeString&&!0,error:f.latitudeString})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Longitude",placeholder:"Enter longitude",name:"longitudeString",value:r,onChange:this.onChange,hasError:f.longitudeString&&!0,error:f.longitudeString})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickInstitutionUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:u||""===a||""===n||""===s||""===i||""===r,pendingApiCall:u,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update institution information"]})]}),Object(j.jsxs)("form",{className:"mt-4",children:[O&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"New manager added"}),Object(j.jsx)(Ie,{label:"New institution manager",placeholder:"Enter new manager's e-mail",name:"email",value:d,onChange:this.onEmailChange,hasError:f.email&&!0,error:f.email}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickManagerAdd(t)},className:"btn btn-primary w-100 my-2",disabled:p||""===d,pendingApiCall:p,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Add new institution manager"]})]}),Object(j.jsx)("br",{}),Object(j.jsxs)(Ce,{onClick:this.onClickInstitutionDelete,className:"btn btn-lg mt-3 btn-danger",disabled:m,pendingApiCall:m,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Delete institution"]})]})}}]),a}(n.Component),nt=Object(h.b)(null,(function(e){return{setIsInstitutionOwner:function(t){return e(je(t))}}}))(at),st=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={institution:{},pendingApiCall:!1,isOwner:!1},e.redirect=function(t){e.props.history.push(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),p.a.get("/institutions/myInstitution").then((function(t){e.setState({institution:t.data,pendingApiCall:!1,isOwner:!0})})).catch((function(e){return Fe(e)})).catch((function(t){t.response.data&&"User does not own an institution"===t.response.data.message&&e.setState({pendingApiCall:!1,isOwner:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.pendingApiCall,a=e.institution,n=e.isOwner;return t?Object(j.jsx)(Ne,{children:Object(j.jsx)(Ve,{})}):n?Object(j.jsx)(nt,{institution:a,redirect:this.redirect}):Object(j.jsx)(qe,{redirect:this.redirect})}}]),a}(n.Component),it=st,rt=a(13),ct=a(11),lt=function(e){return Object(j.jsxs)("div",{className:"alert alert-warning "+e.classes,role:"alert",children:[Object(j.jsx)("i",{className:"fa fa-exclamation-circle"})," ",e.text]})};var ot=function(e){return Object(j.jsx)("li",{className:"breadcrumb-item",children:Object(j.jsx)(b.b,{exact:!0,to:e.to,children:Object(j.jsx)("button",{className:"button-link",children:e.name})})})},dt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={pendingApiCallDownloadLanguages:!1,possible:[],chosen:[],filtered:[],search:""},e.onSearchChange=function(t){var a=t.target.value;if(""===a){var n;e.setState((n={},Object(ve.a)(n,t.target.name,a),Object(ve.a)(n,"filtered",[]),n))}else{var s,i=e.state.possible.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));e.setState((s={},Object(ve.a)(s,t.target.name,a),Object(ve.a)(s,"filtered",i),s))}},e.onLanguageAddClick=function(t){var a,n=[],s=e.state.filtered,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r===t?n.push(Object(ye.a)(Object(ye.a)({},r),{},{pendingApiCall:!0})):n.push(Object(ye.a)({},r))}}catch(c){i.e(c)}finally{i.f()}e.setState({filtered:n}),I(t.languageId).then((function(a){n=(n=Object(rt.a)(s)).filter((function(e){return t!==e}));var i=Object(rt.a)(e.state.possible);i=i.filter((function(e){return t!==e}));var r=Object(rt.a)(e.state.chosen);r.push(Object(ye.a)({},t)),e.setState({filtered:n,possible:i,chosen:r})})).catch((function(e){return Fe(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCallDownloadLanguages:!0}),p.a.get("/institutions/myInstitution/languages").then((function(t){var a,n=t.data.possibleLanguages,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){a.value.pendingApiCall=!1}}catch(r){s.e(r)}finally{s.f()}var i=t.data.chosenLanguages;e.setState({possible:n,chosen:i,pendingApiCallDownloadLanguages:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pendingApiCallDownloadLanguages,n=t.chosen,s=t.filtered,i=t.search;return a?Object(j.jsx)(Ne,{children:Object(j.jsx)(Ve,{})}):Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Add Languages"})]}),Object(j.jsx)(Xe,{name:"Add Languages",children:"Add the languages you want for your visitors and the translators will translate informational labels into them. After you can add your exhibits from institution overview"}),Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution",children:Object(j.jsxs)("button",{type:"button",className:"btn btn-lg mt-3 btn-info mb-4",children:[Object(j.jsx)("i",{className:"fa fa-search"})," Institution overview"]})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-6 ",children:[Object(j.jsxs)("div",{className:"input-group mb-4",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search language",name:"search",value:i,onChange:this.onSearchChange}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"fa fa-search"})})})]}),Object(j.jsx)("div",{children:s.map((function(t){return Object(j.jsxs)(Ce,{onClick:function(){return e.onLanguageAddClick(t)},className:"btn btn-success w-100 my-1",disabled:t.pendingApiCall,pendingApiCall:t.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-plus-circle"})," ",t.name]},t.languageId)}))})]}),Object(j.jsx)("div",{className:"col-md-6 px-md-5",children:0===n.length?Object(j.jsx)(lt,{text:"No selected languages"}):Object(j.jsx)("div",{className:"card mt-md-0 mt-2",children:Object(j.jsx)("ul",{className:"list-group list-group-flush",children:n.map((function(e){return Object(j.jsx)("li",{className:"list-group-item",children:e.name},e.languageId)}))})})})]})]})}}]),a}(n.Component),bt=dt,jt=a(27),ut=a(28),ht=a.n(ut),mt=a(29),pt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={fetchedObjects:[],pendingApiCall:!1,selectedId:e.props.currValue?e.props.currValue:null,selectedLabel:tt},e.onChange=function(t){null===t?(e.props.onChange(null),e.setState({selectedId:null,selectedLabel:tt})):(e.props.onChange(t.value),e.setState({selectedId:t.value,selectedLabel:t.label}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),this.props.fetch().then((function(t){var a,n=t.data,s=[],i=tt,r=Object(ct.a)(n);try{for(r.s();!(a=r.n()).done;){var c=a.value;s.push({value:c[e.props.idName],label:c.name}),c[e.props.idName]===e.state.selectedId&&(i=c.name)}}catch(l){r.e(l)}finally{r.f()}e.setState({fetchedObjects:s,pendingApiCall:!1,selectedLabel:i})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this.state,t=e.fetchedObjects,a=e.pendingApiCall,n=e.selectedId,s=e.selectedLabel;return a?Object(j.jsx)(Ve,{}):Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("label",{className:"font-weight-bold",children:this.props.label}),Object(j.jsx)(mt.a,{options:t,onChange:this.onChange,isClearable:!0,value:{value:n,label:s}})]})}}]),a}(n.Component),gt=pt,xt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.buildingId?e.props.buildingId:null,roomId:e.props.roomId?e.props.roomId:null,showcaseId:e.props.showcaseId?e.props.showcaseId:null},e.fetchRooms=function(){return V(e.state.buildingId)},e.fetchShowcases=function(){return _(e.state.roomId)},e.onBuildingChange=function(t){t!==e.state.buildingId&&(e.setState({buildingId:t,roomId:null,showcaseId:null}),e.props.update(t,null,null))},e.onRoomChange=function(t){t!==e.state.roomId&&(e.setState({roomId:t,showcaseId:null}),e.props.update(e.state.buildingId,t,null))},e.onShowcaseChange=function(t){t!==e.state.roomId&&(e.setState({showcaseId:t}),e.props.update(e.state.buildingId,e.state.roomId,t))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.buildingId,a=e.roomId,n=e.showcaseId;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(gt,{currValue:t,label:"Building",idName:"buildingId",fetch:F,onChange:this.onBuildingChange}),t&&Object(j.jsx)(gt,{currValue:a,label:"Room",idName:"roomId",fetch:this.fetchRooms,onChange:this.onRoomChange},t),a&&Object(j.jsx)(gt,{currValue:n,label:"Show-case",idName:"showcaseId",fetch:this.fetchShowcases,onChange:this.onShowcaseChange},a)]})}}]),a}(n.Component),Ot=xt,ft=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).initState={name:"",infoLabelText:"",buildingId:null,roomId:null,showcaseId:null,encodedImage:null,imageSelect:"",encodedInfoLabel:null,infoLabelSelect:"",pendingApiCall:!1,created:!1,errors:{}},e.state=e.initState,e.onChange=function(t){var a,n=Object(ye.a)({},e.state.errors);delete n[t.target.name],e.setState((a={errors:n},Object(ve.a)(a,t.target.name,t.target.value),Object(ve.a)(a,"created",!1),a))},e.onImageSelect=function(t){var a,n=Object(ye.a)({},e.state.errors),s=t.target.name;if("imageSelect"===s?delete n.encodedImage:delete n.encodedInfoLabel,e.setState((a={errors:n},Object(ve.a)(a,s,t.target.value),Object(ve.a)(a,"created",!1),a)),0!==t.target.files.length){var i=t.target.files[0],r=new FileReader;r.onloadend=function(){"imageSelect"===s?e.setState({encodedImage:r.result}):e.setState({encodedInfoLabel:r.result})},r.readAsDataURL(i)}},e.clearImage=function(t){var a=Object(ye.a)({},e.state.errors);"imageSelect"===t?(delete a.encodedImage,e.setState({errors:a,encodedImage:null,imageSelect:""})):(delete a.encodedInfoLabel,e.setState({errors:a,encodedInfoLabel:null,infoLabelSelect:""}))},e.onInfoLabelTextChange=function(t,a){var n=Object(ye.a)({},e.state.errors);delete n.infoLabelText,e.setState({infoLabelText:a.getData(),created:!1,errors:n})},e.onClickCreate=function(t){t.preventDefault(),e.setState({pendingApiCall:!0});var a={name:e.state.name,infoLabelText:e.state.infoLabelText,buildingId:e.state.buildingId,roomId:e.state.roomId,showcaseId:e.state.showcaseId,encodedImage:e.state.encodedImage,encodedInfoLabel:e.state.encodedInfoLabel};N(a).then((function(t){var a=e.state.buildingId,n=e.state.roomId,s=e.state.showcaseId;e.setState(Object(ye.a)({},e.initState),(function(){return e.setState({created:!0,buildingId:a,roomId:n,showcaseId:s})}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCall:!1,errors:a})}))},e.updateLocation=function(t,a,n){e.setState({buildingId:t,roomId:a,showcaseId:n})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.infoLabelText,s=t.encodedImage,i=t.imageSelect,r=t.encodedInfoLabel,c=t.infoLabelSelect,l=t.pendingApiCall,o=t.created,d=t.errors,b=!1;return""!==a&&null!==r||(b=!0),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"New Exhibit"})]}),Object(j.jsx)(Xe,{name:"New Exhibit",children:"Add a new exhibit with an information label for translation"}),Object(j.jsxs)("form",{children:[o&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Exhibit has been created"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)(Ie,{type:"file",onlyImage:!0,value:i,name:"imageSelect",label:"Exhibit image",placeholder:"Select exhibit image",onChange:this.onImageSelect,hasError:d.encodedImage&&!0,error:d.encodedImage}),s&&Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail mt-2",src:s,alt:"upload"}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{className:"btn btn-danger btn-lg mt-2",onClick:function(){return e.clearImage("imageSelect")},children:[Object(j.jsx)("i",{className:"fa fa-times"})," Clear"]})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)(Ie,{type:"file",onlyImage:!0,value:c,name:"infoLabelSelect",label:"Information label*",placeholder:"Select information label",onChange:this.onImageSelect,hasError:d.encodedInfoLabel&&!0,error:d.encodedInfoLabel}),r&&Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"img-fluid mt-2",src:r,alt:"upload"}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{className:"btn btn-danger btn-lg mt-2",onClick:function(){return e.clearImage("infoLabelSelect")},children:[Object(j.jsx)("i",{className:"fa fa-times"})," Clear"]})]})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name*",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:d.name&&!0,error:d.name})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"font-weight-bold",children:"Information label text"}),Object(j.jsx)(jt.CKEditor,{editor:ht.a,config:{removePlugins:["Table","CKFinder","Link","TableToolbar","EasyImage","MediaEmbed","ImageCaption","ImageStyle","ImageToolbar","ImageUpload"]},data:n,onChange:this.onInfoLabelTextChange}),d.infoLabelText&&Object(j.jsx)("div",{className:"text-danger",children:Object(j.jsx)("small",{children:d.infoLabelText})})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ot,{update:this.updateLocation})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickCreate(t)},className:"btn btn-primary w-100 my-2",disabled:l||b,pendingApiCall:l,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," New exhibit"]})]})]})}}]),a}(n.Component),vt=ft,Ct=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-xl-3",children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail",src:$e+e.image,alt:"exhibit"})}),Object(j.jsxs)("div",{className:"col-12 col-md-8 col-xl-6 mt-3 mt-xl-0",children:[Object(j.jsx)("h3",{className:"card-title",children:e.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Creation date: "}),e.createdAt]}),e.building&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Building: "}),e.building.name]}),e.room&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Room: "}),e.room.name]}),e.showcase&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Show-case: "}),e.showcase.name]})]}),Object(j.jsxs)("div",{className:"col-12 col-md-4 col-xl-3 mt-3 mt-xl-0",children:[Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/exhibits/"+e.exhibitId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info w-100",children:[Object(j.jsx)("i",{className:"fa fa-pencil"})," Detail"]})}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{type:"button",className:"btn btn-secondary w-100 mt-2",onClick:function(){return e.onClickDownloadQRCode(e.exhibitId)},children:[Object(j.jsx)("i",{className:"fa fa-qrcode"})," QR Code"]}),Object(j.jsx)("br",{}),Object(j.jsxs)(Ce,{onClick:function(){return e.onClickDelete(e.exhibitId)},className:"btn btn-danger w-100 mt-2",disabled:e.pendingApiCall,pendingApiCall:e.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Delete"]})]})]})})})},It=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={exhibits:[],pendingApiCall:!1},e.onClickDelete=function(t){if(window.confirm("Do you really want to delete this exhibit?")){var a,n=[],s=e.state.exhibits,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.exhibitId===t?n.push(Object(ye.a)(Object(ye.a)({},r),{},{pendingApiCall:!0})):n.push(Object(ye.a)({},r))}}catch(c){i.e(c)}finally{i.f()}e.setState({exhibits:n}),w(t).then((function(a){n=(n=Object(rt.a)(e.state.exhibits)).filter((function(e){return e.exhibitId!==t})),e.setState({exhibits:n})})).catch((function(e){return Fe(e)}))}},e.onClickDownloadQRCode=function(e){Y(e).then((function(t){var a=t.data,n=document.createElement("a");n.href="data:image/png;base64,"+a,n.download=e+".png",n.click()})).catch((function(e){return Fe(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),p.a.get("/exhibits/all").then((function(t){var a,n=t.data,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.pendingApiCall=!1,i.onClickDelete=e.onClickDelete}}catch(r){s.e(r)}finally{s.f()}e.setState({exhibits:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.exhibits.map((function(t){return Object(j.jsx)(Ct,Object(ye.a)(Object(ye.a)({},t),{},{onClickDownloadQRCode:e.onClickDownloadQRCode}),t.exhibitId)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===this.state.exhibits.length?Object(j.jsx)(lt,{text:"There are no exhibits"}):t),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Exhibits"})]}),Object(j.jsx)(Xe,{name:"Exhibits",children:"Here you can manage exhibits and obtain their QR codes, which you can place in the exhibition"}),a]})}}]),a}(n.Component),Nt=It,wt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={exhibitId:0,name:"",infoLabelText:"",buildingId:null,roomId:null,showcaseId:null,createdAt:"",image:"",encodedImage:null,imageSelect:"",infoLabel:null,encodedInfoLabel:null,infoLabelSelect:"",pendingApiCallGetInstitution:!1,pendingApiCallUpdateInstitution:!1,pendingApiCallUpdateImage:!1,pendingApiCallUpdateInfoLabel:!1,exhibitUpdated:!1,imageUpdated:!1,infoLabelUpdated:!1,errors:{}},e.onImageSelect=function(t,a,n){var s,i=Object(ye.a)({},e.state.errors);if(delete i[a],e.setState((s={errors:i},Object(ve.a)(s,t.target.name,t.target.value),Object(ve.a)(s,n,!1),s)),0!==t.target.files.length){var r=t.target.files[0],c=new FileReader;c.onloadend=function(){e.setState(Object(ve.a)({},a,c.result))},c.readAsDataURL(r)}},e.clearImage=function(t,a){var n,s=Object(ye.a)({},e.state.errors);delete s[t],e.setState((n={errors:s},Object(ve.a)(n,t,null),Object(ve.a)(n,a,""),n))},e.onClickImageUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdateImage:!0});var a={encodedImage:e.state.encodedImage};A(e.state.exhibitId,a).then((function(t){e.setState({pendingApiCallUpdateImage:!1,image:t.data.message,imageUpdated:!0},(function(){e.clearImage("encodedImage","imageSelect")}))})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUpdateImage")}))},e.handleApiError=function(t,a){if(t.response.data&&t.response.data.validationErrors){var n,s=Object(ye.a)(Object(ye.a)({},e.state.errors),t.response.data.validationErrors);e.setState((n={},Object(ve.a)(n,a,!1),Object(ve.a)(n,"errors",s),n))}},e.onClickInfoImageUpdate=function(){e.setState({pendingApiCallUpdateInfoLabel:!0});var t={encodedImage:e.state.encodedInfoLabel};y(e.state.exhibitId,t).then((function(t){e.setState({pendingApiCallUpdateInfoLabel:!1,infoLabel:t.data.message,infoLabelUpdated:!0},(function(){e.clearImage("encodedInfoLabel","infoLabelSelect")}))})).catch((function(e){return Fe(e)})).catch((function(t){if(t.response.data&&t.response.data.validationErrors){var a=Object(ye.a)({},e.state.errors);a.encodedInfoLabel=t.response.data.validationErrors.encodedImage,e.setState({pendingApiCallUpdateInfoLabel:!1,errors:a})}}))},e.onChange=function(t){var a,n=Object(ye.a)({},e.state.errors);delete n[t.target.name],e.setState((a={errors:n},Object(ve.a)(a,t.target.name,t.target.value),Object(ve.a)(a,"exhibitUpdated",!1),a))},e.onInfoLabelTextChange=function(t,a){var n=Object(ye.a)({},e.state.errors);delete n.infoLabelText,e.setState({infoLabelText:a.getData(),exhibitUpdated:!1,errors:n})},e.onClickExhibitUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdateInstitution:!0});var a={name:e.state.name,infoLabelText:e.state.infoLabelText,buildingId:e.state.buildingId,roomId:e.state.roomId,showcaseId:e.state.showcaseId};S(e.state.exhibitId,a).then((function(t){e.setState({exhibitUpdated:!0,pendingApiCallUpdateInstitution:!1})})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUpdateInstitution")}))},e.updateLocation=function(t,a,n){e.setState({buildingId:t,roomId:a,showcaseId:n})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({pendingApiCallGetInstitution:!0}),(e=this.props.match.params.exhibitId,p.a.get("/exhibits/"+e)).then((function(e){var a=e.data.building?e.data.building.buildingId:null,n=e.data.room?e.data.room.roomId:null,s=e.data.showcase?e.data.showcase.showcaseId:null;t.setState(Object(ye.a)(Object(ye.a)({},e.data),{},{pendingApiCallGetInstitution:!1,buildingId:a,roomId:n,showcaseId:s}))})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.infoLabelText,s=t.buildingId,i=t.roomId,r=t.showcaseId,c=t.image,l=t.encodedImage,o=t.imageSelect,d=t.infoLabel,b=t.encodedInfoLabel,u=t.infoLabelSelect,h=t.pendingApiCallGetInstitution,m=t.pendingApiCallUpdateInstitution,p=t.pendingApiCallUpdateImage,g=t.pendingApiCallUpdateInfoLabel,x=t.exhibitUpdated,O=t.imageUpdated,f=t.infoLabelUpdated,v=t.errors,C=Object(j.jsx)(Ve,{});return h||(C=Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{className:"mb-4",children:[O&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Exhibit image updated"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)(Ie,{type:"file",onlyImage:!0,value:o,name:"imageSelect",label:"Exhibit image",placeholder:"Select exhibit image",onChange:function(t){return e.onImageSelect(t,"encodedImage","imageUpdated")},hasError:v.encodedImage&&!0,error:v.encodedImage}),l?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail mt-2",src:l,alt:"upload"}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{className:"btn btn-danger btn-lg mt-2",disabled:p,onClick:function(){return e.clearImage("encodedImage","imageSelect")},children:[Object(j.jsx)("i",{className:"fa fa-times"})," Clear"]}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickImageUpdate(t)},className:"btn btn-success btn-lg ml-2 mt-2",disabled:p,pendingApiCall:p,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update image"]})]}):Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail mt-2",src:$e+c,alt:"upload"})})]})]}),Object(j.jsxs)("form",{className:"mb-4",children:[f&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Information label image updated"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)(Ie,{type:"file",onlyImage:!0,value:u,name:"infoLabelSelect",label:"Information label image",placeholder:"Select information label image",onChange:function(t){return e.onImageSelect(t,"encodedInfoLabel","infoLabelUpdated")},hasError:v.encodedInfoLabel&&!0,error:v.encodedInfoLabel}),b?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"img-fluid mt-2",src:b,alt:"upload"}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{className:"btn btn-danger btn-lg mt-2",disabled:g,onClick:function(){return e.clearImage("encodedInfoLabel","infoLabelSelect")},children:[Object(j.jsx)("i",{className:"fa fa-times"})," Clear"]}),Object(j.jsxs)(Ce,{onClick:function(t){t.preventDefault(),e.onClickInfoImageUpdate()},className:"btn btn-success btn-lg ml-2 mt-2",disabled:p,pendingApiCall:p,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update information label image"]})]}):Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"img-fluid mt-2",src:et+d,alt:"upload"})})]})]}),Object(j.jsxs)("form",{className:"mb-4",children:[x&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Exhibit information updated"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:v.name&&!0,error:v.name})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"font-weight-bold",children:"Information label text"}),Object(j.jsx)(jt.CKEditor,{editor:ht.a,config:{removePlugins:["Table","CKFinder","Link","TableToolbar","EasyImage","MediaEmbed","ImageCaption","ImageStyle","ImageToolbar","ImageUpload"]},data:n,onChange:this.onInfoLabelTextChange}),v.infoLabelText&&Object(j.jsx)("div",{className:"text-danger",children:Object(j.jsx)("small",{children:v.infoLabelText})})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ot,{update:this.updateLocation,buildingId:s,roomId:i,showcaseId:r})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickExhibitUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:m||""===a,pendingApiCall:m,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update exhibit"]})]})]})),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/exhibits",name:"Exhibits"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Exhibit"})]}),Object(j.jsx)(Xe,{name:"Exhibit",children:"Here you can view and update the selected exhibit"}),C]})}}]),a}(n.Component),At=wt,yt=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-xl-3",children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail",src:_e+e.image,alt:"institution"})}),Object(j.jsxs)("div",{className:"col-12 col-md-8 col-xl-6",children:[Object(j.jsx)("h3",{className:"card-title mt-3 mt-xl-0",children:e.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Address: "}),e.address]}),Object(j.jsx)("div",{className:"mt-2",children:e.description})]}),Object(j.jsx)("div",{className:"col-12 col-md-4 col-xl-3",children:Object(j.jsx)(b.b,{exact:!0,to:"/institutions/"+e.institutionId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info btn-lg w-100 mt-3 mt-xl-0",children:[Object(j.jsx)("i",{className:"fa fa-bars"})," Exhibits"]})})})]})})})},St=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={institutions:[],pendingApiCall:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),p.a.get("/institutions").then((function(t){e.setState({institutions:t.data,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this.state.institutions.map((function(e){return Object(j.jsx)(yt,Object(ye.a)({},e),e.institutionId)})),t=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(t=0===this.state.institutions.length?Object(j.jsx)(lt,{text:"There are no institutions"}):e),Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Translate - Institutions"})}),Object(j.jsx)(Xe,{name:"Institutions",children:"Choose the institution whose information labels you want to translate"}),t]})}}]),a}(n.Component),Et=St,kt=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-xl-3",children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail",src:$e+e.image,alt:"exhibit"})}),Object(j.jsxs)("div",{className:"col-12 col-md-8 col-xl-6",children:[Object(j.jsx)("h3",{className:"card-title mt-3 mt-xl-0",children:e.name}),Object(j.jsx)("div",{className:"mb-3 mt-4",children:Object(j.jsx)(mt.a,{options:e.languages.map((function(e){return{value:e.languageId,label:e.name}})),onChange:function(t){return e.selectLang(e.exhibitId,t.value)}})})]}),Object(j.jsxs)("div",{className:"col-12 col-md-4 col-xl-3 mt-3 mt-xl-0",children:[Object(j.jsx)(b.b,{exact:!0,to:"/institutions/"+e.institutionId+"/translate/"+e.exhibitId+"/"+e.lang,className:e.buttonsDisabled&&"disabled-link",children:Object(j.jsxs)("button",{type:"button",disabled:e.buttonsDisabled,className:"btn btn-info btn-lg w-100",children:[Object(j.jsx)("i",{className:"fa fa-globe"})," Translate"]})}),Object(j.jsx)(b.b,{exact:!0,to:"/institutions/"+e.institutionId+"/rate/"+e.exhibitId+"/"+e.lang,className:e.buttonsDisabled&&"disabled-link",children:Object(j.jsxs)("button",{type:"button",disabled:e.buttonsDisabled,className:"btn btn-primary mt-3 btn-lg w-100",children:[Object(j.jsx)("i",{className:"fa fa-thumbs-up"})," Rate"]})})]})]})})})},Lt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={languages:[],exhibits:[],pendingApiCall:!1},e.selectLang=function(t,a){var n,s=[],i=Object(ct.a)(e.state.exhibits);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.exhibitId!==t?s.push(r):s.push(Object(ye.a)(Object(ye.a)({},r),{},{lang:a,buttonsDisabled:!1}))}}catch(c){i.e(c)}finally{i.f()}e.setState({exhibits:s})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({pendingApiCall:!0}),(e=this.props.match.params.institutionId,p.a.get("/exhibits/translate/"+e)).then((function(e){var a,n=e.data.languages,s=e.data.exhibits,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.buttonsDisabled=!0,r.lang=-1,r.selectLang=t.selectLang}}catch(c){i.e(c)}finally{i.f()}t.setState({languages:n,exhibits:s,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.exhibits.map((function(t){return Object(j.jsx)(kt,Object(ye.a)(Object(ye.a)({},t),{},{languages:e.state.languages,institutionId:e.props.match.params.institutionId}),t.exhibitId)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===this.state.exhibits.length?Object(j.jsx)(lt,{text:"There are no exhibits"}):t),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/institutions",name:"Translate - Institutions"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Exhibits"})]}),Object(j.jsx)(Xe,{name:"Exhibits",children:"After selecting an exhibit and a language, you can start translating or rating translations"}),a]})}}]),a}(n.Component),Dt=Lt,Ut=a(20),Tt=a(21),Rt=a.n(Tt);var Gt=function(e){return Object(j.jsxs)("div",{className:"alert alert-info text-center mb-3",children:[Object(j.jsx)("h4",{className:"alert-heading",children:e.exhibitName}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{className:"mb-0",children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Language: "}),e.languageName]})]})},Ht=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={institutionId:e.props.match.params.institutionId,exhibitId:e.props.match.params.exhibitId,languageId:e.props.match.params.languageId,exhibitName:"",languageName:"",infoLabelText:"",infoLabel:null,text:"",pendingApiCallGetNewTranslation:!1,pendingApiCallCreateTranslation:!1,errors:{}},e.onTranslationCreate=function(t){t.preventDefault(),e.setState({pendingApiCallCreateTranslation:!0}),L(e.state.exhibitId,e.state.languageId,{text:e.state.text}).then((function(t){e.setState({pendingApiCallCreateTranslation:!1},(function(){return e.props.history.push("/institutions/"+e.state.institutionId)}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCallCreateTranslation:!1,errors:a})}))},e.onTextChange=function(t,a){var n=Object(ye.a)({},e.state.errors);delete n.text,e.setState({text:a.getData(),errors:n})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;this.setState({pendingApiCallGetNewTranslation:!0}),(e=this.state.exhibitId,t=this.state.languageId,p.a.get("/translations/new/"+e+"/"+t)).then((function(e){var t=e.data,n=t.exhibitName,s=t.infoLabelText,i=t.infoLabel,r=t.text,c=t.languageName;a.setState({exhibitName:n,infoLabelText:s,infoLabel:i,text:r,languageName:c,pendingApiCallGetNewTranslation:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.institutionId,n=t.exhibitName,s=t.languageName,i=t.infoLabelText,r=t.infoLabel,c=t.text,l=t.pendingApiCallGetNewTranslation,o=t.pendingApiCallCreateTranslation,d=t.errors;return l?Object(j.jsx)(Ne,{children:Object(j.jsx)(Ve,{})}):Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/institutions",name:"Translate - Institutions"}),Object(j.jsx)(ot,{to:"/institutions/"+a,name:"Exhibits"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"New Translation"})]}),Object(j.jsx)(Xe,{name:"New Translation",children:"Create a new translation based on the information label"}),Object(j.jsx)(Gt,{exhibitName:n,languageName:s}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"img-fluid mt-2",src:et+r,alt:"information label"})}),""!==i&&Object(j.jsx)("div",{className:"mt-4 bg-light border rounded p-2",children:Object(Ut.a)(Rt.a.sanitize(i))}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"font-weight-bold",children:"Translated text"}),Object(j.jsx)(jt.CKEditor,{editor:ht.a,config:{removePlugins:["Table","CKFinder","Link","TableToolbar","EasyImage","MediaEmbed","ImageCaption","ImageStyle","ImageToolbar","ImageUpload"]},data:c,onChange:this.onTextChange}),d.text&&Object(j.jsx)("div",{className:"text-danger",children:Object(j.jsx)("small",{children:d.text})})]}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onTranslationCreate(t)},className:"btn btn-primary w-100 my-2",disabled:o||""===c,pendingApiCall:o,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Create translation"]})]})]})}}]),a}(n.Component),Mt=Ht,Pt=function(e){var t="card mb-4";e.isOfficial&&(t+=" bg-warning");var a="btn btn-primary";return e.liked||(a="btn btn-secondary"),Object(j.jsx)("div",{className:t,children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-2",children:[Object(j.jsx)("h5",{children:e.authorUsername}),Object(j.jsx)("p",{children:e.createdAt}),e.isOfficial&&Object(j.jsx)("span",{className:"font-weight-bold",children:"official"})]}),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsx)("div",{className:"bg-light border rounded p-2",children:Object(Ut.a)(Rt.a.sanitize(e.translatedText))})}),Object(j.jsx)("div",{className:"col-md-2",children:Object(j.jsxs)("div",{className:"d-flex justify-content-between mt-md-0 mt-3",children:[Object(j.jsxs)("div",{className:"text-info mt-1",children:[Object(j.jsx)("i",{className:"fa fa-thumbs-up"})," ",e.likesCount+"x"]}),Object(j.jsx)("button",{onClick:function(){return e.onLikeChange(e.translationId)},type:"button",className:a,children:e.liked?Object(j.jsx)("i",{className:"fa fa-thumbs-up"}):Object(j.jsx)("i",{className:"fa fa-thumbs-o-up"})})]})})]})})})},Bt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={institutionId:e.props.match.params.institutionId,exhibitId:e.props.match.params.exhibitId,languageId:e.props.match.params.languageId,exhibit:null,language:"",translations:[],pendingApiCall:!0},e.onLikeChange=function(t){var a,n,s=[],i=e.state.translations,r=Object(ct.a)(i);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.translationId!==t?s.push(c):(a=!c.liked)?s.push(Object(ye.a)(Object(ye.a)({},c),{},{liked:a,likesCount:c.likesCount+1})):s.push(Object(ye.a)(Object(ye.a)({},c),{},{liked:a,likesCount:c.likesCount-1}))}}catch(l){r.e(l)}finally{r.f()}e.setState({translations:s}),U(t,{value:a}).catch((function(e){return Fe(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),D(this.state.exhibitId,this.state.languageId).then((function(t){e.setState({exhibit:t.data.exhibit,language:t.data.language,translations:t.data.translations,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.translations.map((function(t){return Object(j.jsx)(Pt,Object(ye.a)(Object(ye.a)({},t),{},{onLikeChange:e.onLikeChange}),t.translationId)})),a=Object(j.jsx)(Ve,{});if(!this.state.pendingApiCall){var n=this.state.exhibit,s=n.name,i=n.infoLabel,r=n.infoLabelText;a=Object(j.jsxs)("div",{children:[Object(j.jsx)(Gt,{exhibitName:s,languageName:this.state.language}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"img-fluid mt-2",src:et+i,alt:"information label"})}),""!==r&&Object(j.jsx)("div",{className:"mt-4 bg-light border rounded p-2",children:Object(Ut.a)(Rt.a.sanitize(r))}),0===t.length?Object(j.jsx)(lt,{classes:"mt-5",text:"There are no translations"}):Object(j.jsxs)("div",{className:"mt-3",children:[Object(j.jsx)("div",{className:"text-center mt-5 mb-4 translations-heading py-3 px-5 d-flex flex-column-reverse justify-content-center border rounded",children:Object(j.jsx)("h2",{children:"Translations"})}),t]})]})}return Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/institutions",name:"Translate - Institutions"}),Object(j.jsx)(ot,{to:"/institutions/"+this.state.institutionId,name:"Exhibits"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Rate Translations"})]}),Object(j.jsx)(Xe,{name:"Rate Translations",children:"Here you can give likes to translations that you like best"}),a]})}}]),a}(n.Component),Qt=Bt,Yt=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-xl-3",children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail",src:$e+e.image,alt:"exhibit"})}),Object(j.jsxs)("div",{className:"col-12 col-md-8 col-xl-6 mt-3 mt-xl-0",children:[Object(j.jsx)("h3",{className:"card-title",children:e.name}),Object(j.jsx)("div",{className:"mb-3 mt-4",children:Object(j.jsx)(mt.a,{options:e.languages.map((function(e){return{value:e.languageId,label:e.name}})),onChange:function(t){return e.selectLang(e.exhibitId,t.value)}})})]}),Object(j.jsx)("div",{className:"col-12 col-md-4 col-xl-3 mt-3 mt-xl-0",children:Object(j.jsx)(b.b,{exact:!0,to:"/approve/"+e.exhibitId+"/"+e.lang,className:e.buttonDisabled&&"disabled-link",children:Object(j.jsxs)("button",{type:"button",disabled:e.buttonDisabled,className:"btn btn-primary btn-lg w-100",children:[Object(j.jsx)("i",{className:"fa fa-star"})," Approve"]})})})]})})})},Ft=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={languages:[],exhibits:[],pendingApiCall:!1},e.selectLang=function(t,a){var n,s=[],i=Object(ct.a)(e.state.exhibits);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.exhibitId!==t?s.push(r):s.push(Object(ye.a)(Object(ye.a)({},r),{},{lang:a,buttonDisabled:!1}))}}catch(c){i.e(c)}finally{i.f()}e.setState({exhibits:s})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),p.a.get("/exhibits/approveTranslations").then((function(t){var a,n=t.data.languages,s=t.data.exhibits,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.buttonDisabled=!0,r.lang=-1,r.selectLang=e.selectLang}}catch(c){i.e(c)}finally{i.f()}e.setState({languages:n,exhibits:s,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.exhibits.map((function(t){return Object(j.jsx)(Yt,Object(ye.a)(Object(ye.a)({},t),{},{languages:e.state.languages}),t.exhibitId)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===this.state.exhibits.length?Object(j.jsx)(lt,{text:"There are no exhibits"}):t),Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Approve - Exhibits"})}),Object(j.jsx)(Xe,{name:"Exhibits",children:"After selecting an exhibit and a language, you will be able to select an official translation that will be displayed in the mobile application"}),a]})}}]),a}(n.Component),Jt=Ft,Xt=function(e){var t="card mb-4";e.isOfficial&&(t+=" bg-warning");var a="btn btn-primary";e.liked||(a="btn btn-secondary");var n="btn btn-success w-100 mt-3";return e.isOfficial||(n="btn btn-secondary w-100 mt-3"),Object(j.jsx)("div",{className:t,children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-2",children:[Object(j.jsx)("h5",{children:e.authorUsername}),Object(j.jsx)("p",{children:e.createdAt}),e.isOfficial&&Object(j.jsx)("span",{className:"font-weight-bold",children:"official"})]}),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsx)("div",{className:"bg-light border rounded p-2",children:Object(Ut.a)(Rt.a.sanitize(e.translatedText))})}),Object(j.jsxs)("div",{className:"col-md-2 mt-md-0 mt-3",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsxs)("div",{className:"text-info mt-1",children:[Object(j.jsx)("i",{className:"fa fa-thumbs-up"})," ",e.likesCount+"x"]}),Object(j.jsx)("button",{onClick:function(){return e.onLikeChange(e.translationId)},type:"button",className:a,children:e.liked?Object(j.jsx)("i",{className:"fa fa-thumbs-up"}):Object(j.jsx)("i",{className:"fa fa-thumbs-o-up"})})]}),Object(j.jsx)(Ce,{onClick:function(){return e.onOfficialChange(e.translationId)},className:n,disabled:e.pendingApiCallSetOfficial,pendingApiCall:e.pendingApiCallSetOfficial,hasChildren:!0,children:e.isOfficial?Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fa fa-star"})," Official "]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fa fa-star-o"})," Official "]})})]})]})})})},zt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={exhibitId:e.props.match.params.exhibitId,languageId:e.props.match.params.languageId,exhibit:null,language:"",translations:[],pendingApiCall:!0},e.onLikeChange=function(t){var a,n,s=[],i=e.state.translations,r=Object(ct.a)(i);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.translationId!==t?s.push(c):(a=!c.liked)?s.push(Object(ye.a)(Object(ye.a)({},c),{},{liked:a,likesCount:c.likesCount+1})):s.push(Object(ye.a)(Object(ye.a)({},c),{},{liked:a,likesCount:c.likesCount-1}))}}catch(l){r.e(l)}finally{r.f()}e.setState({translations:s}),U(t,{value:a}).catch((function(e){return Fe(e)}))},e.onOfficialChange=function(t){var a,n,s=[],i=e.state.translations,r=Object(ct.a)(i);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.translationId!==t?s.push(c):(a=!c.isOfficial,s.push(Object(ye.a)(Object(ye.a)({},c),{},{pendingApiCallSetOfficial:!0})))}}catch(l){r.e(l)}finally{r.f()}e.setState({translations:s}),T(t,{value:a}).then((function(n){s=[];var i,r=e.state.translations,c=Object(ct.a)(r);try{for(c.s();!(i=c.n()).done;){var o=i.value;o.translationId!==t?s.push(Object(ye.a)(Object(ye.a)({},o),{},{isOfficial:!1})):s.push(Object(ye.a)(Object(ye.a)({},o),{},{pendingApiCallSetOfficial:!1,isOfficial:a}))}}catch(l){c.e(l)}finally{c.f()}e.setState({translations:s})})).catch((function(e){return Fe(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),D(this.state.exhibitId,this.state.languageId).then((function(t){var a,n=t.data.translations,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){a.value.pendingApiCallSetOfficial=!1}}catch(i){s.e(i)}finally{s.f()}e.setState({exhibit:t.data.exhibit,language:t.data.language,translations:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.translations.map((function(t){return Object(j.jsx)(Xt,Object(ye.a)(Object(ye.a)({},t),{},{onLikeChange:e.onLikeChange,onOfficialChange:e.onOfficialChange}),t.translationId)})),a=Object(j.jsx)(Ve,{});if(!this.state.pendingApiCall){var n=this.state.exhibit,s=n.name,i=n.infoLabel,r=n.infoLabelText;a=Object(j.jsxs)("div",{children:[Object(j.jsx)(Gt,{exhibitName:s,languageName:this.state.language}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"img-fluid mt-2",src:et+i,alt:"information label"})}),""!==r&&Object(j.jsx)("div",{className:"mt-4 bg-light border rounded p-2",children:Object(Ut.a)(Rt.a.sanitize(r))}),0===t.length?Object(j.jsx)(lt,{classes:"mt-5",text:"There are no translations"}):Object(j.jsxs)("div",{className:"mt-3",children:[Object(j.jsx)("div",{className:"text-center mt-5 mb-4 translations-heading py-3 px-5 d-flex flex-column-reverse justify-content-center border rounded",children:Object(j.jsx)("h2",{children:"Translations"})}),t]})]})}return Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/approve",name:"Approve - Exhibits"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Approve Translations"})]}),Object(j.jsx)(Xe,{name:"Approve Translations",children:"Here you can rate translations and select one that will be displayed in the mobile application (official translation)"}),a]})}}]),a}(n.Component),Kt=zt,Vt=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-xl-3",children:Object(j.jsx)("img",{className:"img-fluid sizedImg img-thumbnail",src:$e+e.exhibitImage,alt:"exhibit"})}),Object(j.jsxs)("div",{className:"col-12 col-md-8 col-xl-6 mt-3 mt-xl-0",children:[Object(j.jsx)("h3",{className:"card-title",children:e.institutionName}),Object(j.jsxs)("h5",{children:["Exhibit: ",e.exhibitName]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Language: "}),e.language]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Latest activity: "}),e.latestTranslationCreatedAt]})]}),Object(j.jsxs)("div",{className:"col-12 col-md-4 col-xl-3 mt-3 mt-xl-0",children:[Object(j.jsx)(b.b,{exact:!0,to:"/myTranslations/"+e.exhibitId+"/"+e.languageId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info w-100",children:[Object(j.jsx)("i",{className:"fa fa-bars"})," Open"]})}),Object(j.jsx)("br",{}),Object(j.jsxs)(Ce,{onClick:function(){return e.onClickDelete(e.exhibitId,e.languageId)},className:"btn btn-danger w-100 mt-2",disabled:e.pendingApiCall,pendingApiCall:e.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Delete"]})]})]})})})},Zt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={sequences:[],pendingApiCall:!1},e.onClickDelete=function(t,a){if(window.confirm("Do you really want to delete this translation sequence?")){var n,s=[],i=e.state.sequences,r=Object(ct.a)(i);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.exhibitId===t&&c.languageId===a?s.push(Object(ye.a)(Object(ye.a)({},c),{},{pendingApiCall:!0})):s.push(c)}}catch(l){r.e(l)}finally{r.f()}e.setState({sequences:s}),R(t,a).then((function(n){s=(s=Object(rt.a)(e.state.sequences)).filter((function(e){return e.exhibitId!==t||e.languageId!==a})),e.setState({sequences:s})})).catch((function(e){return Fe(e)}))}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),p.a.get("/translations/sequences").then((function(t){var a,n=t.data,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.pendingApiCall=!1,i.onClickDelete=e.onClickDelete}}catch(r){s.e(r)}finally{s.f()}e.setState({sequences:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this.state.sequences.map((function(e,t){return Object(j.jsx)(Vt,Object(ye.a)({},e),t)})),t=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(t=0===this.state.sequences.length?Object(j.jsx)(lt,{text:"There are no translation sequences"}):e),Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Translation Sequences"})}),Object(j.jsx)(Xe,{name:"Translation Sequences",children:"Here you can manage sequences of translation versions for a given exhibit and language"}),t]})}}]),a}(n.Component),qt=Zt,Wt=function(e){var t="card mb-4";return e.isOfficial&&(t+=" bg-warning"),Object(j.jsx)("div",{className:t,children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-2",children:[Object(j.jsx)("h4",{children:e.order+"."}),Object(j.jsx)("p",{children:e.createdAt}),e.isOfficial&&Object(j.jsx)("span",{className:"font-weight-bold",children:"official"})]}),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsx)("div",{className:"bg-light border rounded p-2",children:Object(Ut.a)(Rt.a.sanitize(e.translatedText))})}),Object(j.jsxs)("div",{className:"col-md-2 mt-md-0 mt-2",children:[Object(j.jsx)("div",{className:"d-flex justify-content-between",children:Object(j.jsxs)("div",{className:"text-info mt-1",children:[Object(j.jsx)("i",{className:"fa fa-thumbs-up"})," ",e.likesCount+"x"]})}),0!==e.index&&Object(j.jsxs)(Ce,{onClick:function(){return e.onRollback(e.translationId,e.index)},className:"btn btn-danger w-100 mt-3 mb-2",disabled:e.pendingApiCall,pendingApiCall:e.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Rollback"]})]})]})})})},_t=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={exhibitId:e.props.match.params.exhibitId,languageId:e.props.match.params.languageId,translations:[],pendingApiCall:!1},e.onRollback=function(t,a){if(window.confirm("Do you really want to rollback to this translation?")){var n=Object(rt.a)(e.state.translations);n[a]=Object(ye.a)(Object(ye.a)({},n[a]),{},{pendingApiCall:!0}),e.setState({translations:n}),G(t).then((function(t){var n=Object(rt.a)(e.state.translations);n[a]=Object(ye.a)(Object(ye.a)({},n[a]),{},{pendingApiCall:!1}),n=n.slice(a),e.setState({translations:n})})).catch((function(e){return Fe(e)}))}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;this.setState({pendingApiCall:!0}),(e=this.state.exhibitId,t=this.state.languageId,p.a.get("/translations/sequence/"+e+"/"+t)).then((function(e){var t,n=e.data,s=Object(ct.a)(n);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.pendingApiCall=!1,i.onRollback=a.onRollback}}catch(r){s.e(r)}finally{s.f()}a.setState({translations:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this.state.translations.length,t=this.state.translations.map((function(t,a){return Object(j.jsx)(Wt,Object(ye.a)({order:e-a,index:a},t),a)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===e?Object(j.jsx)(lt,{text:"There are no translations"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.b,{exact:!0,to:"/institutions/"+this.state.translations[0].institutionId+"/translate/"+this.state.exhibitId+"/"+this.state.languageId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-success mb-4 btn-lg",children:[Object(j.jsx)("i",{className:"fa fa-globe"})," Create New Version"]})}),t]})),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myTranslations",name:"Translation Sequences"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Translation Sequence"})]}),Object(j.jsx)(Xe,{name:"Translation Sequence",children:"Here you can view the translation history and also return your active translation to previous versions (rollback)"}),a]})}}]),a}(n.Component),$t=_t;var ea=function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.username}),Object(j.jsx)("td",{children:e.createdAt}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:Object(j.jsx)(b.b,{exact:!0,to:"/users/"+e.userId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info w-100",children:[Object(j.jsx)("i",{className:"fa fa-search"})," Detail"]})})})]})},ta=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={users:[],filtered:[],pendingApiCall:!1,search:""},e.onSearchChange=function(t){var a=t.target.value;if(""===e.state.search){var n=Object(rt.a)(e.state.users);e.setState({filtered:n,search:a})}else{var s=e.state.users.filter((function(e){return e.username.includes(a)||e.email.includes(a)}));e.setState({filtered:s,search:a})}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),p.a.get("/admin/users").then((function(t){e.setState({users:t.data,filtered:t.data,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.pendingApiCall,n=e.search,s=e.filtered,i=Object(j.jsx)(Ve,{});return a||(i=0===t.length?Object(j.jsx)(lt,{text:"There are no users"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search user",name:"search",value:n,onChange:this.onSearchChange}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"fa fa-search"})})})]}),Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",{className:"table table-dark table-striped table-bordered table-hover",children:[Object(j.jsx)("thead",{className:"thead-light",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Username"}),Object(j.jsx)("th",{scope:"col",children:"Registration date"}),Object(j.jsx)("th",{scope:"col",children:"E-mail"}),Object(j.jsx)("th",{scope:"col",children:"Detail"})]})}),Object(j.jsx)("tbody",{children:s.map((function(e){return Object(j.jsx)(ea,Object(ye.a)({},e))}))})]})})]})),Object(j.jsxs)(Ne,{children:[Object(j.jsx)(Je,{children:Object(j.jsx)("li",{className:"breadcrumb-item active",children:"User Manager"})}),Object(j.jsx)(Xe,{name:"User Manager",children:"Here you can manage users of the translation system"}),i]})}}]),a}(n.Component),aa=ta,na=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={userId:e.props.match.params.userId,username:"",email:"",createdAt:null,isBanned:!1,isTranslator:!0,isInstitutionOwner:!1,institutionName:"",pendingApiCall:!0,pendingApiCallUsernameUpdate:!1,pendingApiCallChangePassword:!1,pendingApiCallTranslator:!1,pendingApiCallBan:!1,pendingApiCallRemoveInstitution:!1,usernameUpdated:!1,errors:{}},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a,usernameUpdated:!1},t.target.name,t.target.value))},e.handleApiError=function(t,a){if(t.response.data&&t.response.data.validationErrors){var n,s=Object(ye.a)(Object(ye.a)({},e.state.errors),t.response.data.validationErrors);e.setState((n={},Object(ve.a)(n,a,!1),Object(ve.a)(n,"errors",s),n))}},e.onClickUsernameUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUsernameUpdate:!0}),H(e.state.userId,{username:e.state.username}).then((function(t){e.setState({pendingApiCallUsernameUpdate:!1,usernameUpdated:!0})})).catch((function(e){return Fe(e)})).catch((function(t){e.handleApiError(t,"pendingApiCallUsernameUpdate")}))},e.onPasswordChange=function(){var t=e.state,a=t.username,n=t.email;window.confirm("Do you really want to generate a new password for user "+a+" and send it to this e-mail: "+n)&&(e.setState({pendingApiCallChangePassword:!0}),M(e.state.userId).then((function(t){e.setState({pendingApiCallChangePassword:!1})})).catch((function(e){return Fe(e)})))},e.onTranslatorChange=function(){var t=e.state,a=t.userId,n=t.isTranslator;window.confirm("Do you really want to change translation rights?")&&(e.setState({pendingApiCallTranslator:!0}),P(a,{value:!n}).then((function(t){e.setState({pendingApiCallTranslator:!1,isTranslator:!n})})).catch((function(e){return Fe(e)})))},e.onBanChange=function(){var t=e.state,a=t.userId,n=t.isBanned;window.confirm("Do you really want to change access rights?")&&(e.setState({pendingApiCallBan:!0}),B(a,{value:!n}).then((function(t){e.setState({pendingApiCallBan:!1,isBanned:!n})})).catch((function(e){return Fe(e)})))},e.onInstitutionRemove=function(){var t=e.state,a=t.userId,n=t.institutionName;window.confirm("Do you really want to remove managerial rights? It may cause deletion of this institution: "+n)&&(e.setState({pendingApiCallRemoveInstitution:!0}),Q(a).then((function(t){e.setState({pendingApiCallRemoveInstitution:!1,isInstitutionOwner:!1,institutionName:""})})).catch((function(e){return Fe(e)})))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({pendingApiCall:!0}),(e=this.state.userId,p.a.get("/admin/users/"+e)).then((function(e){var a=e.data,n=a.username,s=a.email,i=a.createdAt,r=a.isBanned,c=a.isTranslator,l=a.isInstitutionOwner,o=a.institutionName;t.setState({username:n,email:s,createdAt:i,isBanned:r,isTranslator:c,isInstitutionOwner:l,institutionName:o,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,s=t.createdAt,i=t.isBanned,r=t.isTranslator,c=t.isInstitutionOwner,l=t.institutionName,o=t.pendingApiCall,d=t.pendingApiCallUsernameUpdate,b=t.pendingApiCallChangePassword,u=t.pendingApiCallTranslator,h=t.pendingApiCallBan,m=t.pendingApiCallRemoveInstitution,p=t.usernameUpdated,g=t.errors,x=Object(j.jsx)(Ve,{});return o||(x=Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Registration date: "}),s]}),Object(j.jsxs)("form",{className:"mb-4",children:[p&&Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:"Username updated"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Username",placeholder:"Enter name",name:"username",value:a,onChange:this.onChange,hasError:g.username&&!0,error:g.username})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onClickUsernameUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:d||""===a,pendingApiCall:d,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update username"]})]}),Object(j.jsx)("div",{className:"card thick-top-border border-dark no-rounded thick-side-borders my-rounded-top no-bottom-border",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{children:"Password Change"}),Object(j.jsxs)("p",{children:["Generate a new password and send it to an e-mail address: ",Object(j.jsx)("span",{className:"font-weight-bold",children:n})]}),Object(j.jsxs)(Ce,{onClick:this.onPasswordChange,className:"btn btn-danger btn-lg my-1",disabled:b,pendingApiCall:b,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-key"})," Generate new password"]})]})}),Object(j.jsx)("div",{className:"card thick-side-borders border-dark no-rounded no-bottom-border",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{children:"Translation Rights"}),Object(j.jsx)("p",{children:"Change user's right to translate"}),Object(j.jsxs)(Ce,{onClick:this.onTranslatorChange,className:"btn btn-lg my-1 "+(r?"btn-primary":"btn-secondary"),disabled:u,pendingApiCall:u,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-globe"})," ",r?"Translation rights on":"Translation rights off"]})]})}),c&&Object(j.jsx)("div",{className:"card thick-side-borders border-dark no-rounded no-bottom-border",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{children:"Institution"}),Object(j.jsxs)("p",{children:["The user is a manager of: ",Object(j.jsx)("span",{className:"font-weight-bold",children:l})]}),Object(j.jsxs)(Ce,{onClick:this.onInstitutionRemove,className:"btn btn-lg my-1 btn-danger",disabled:m,pendingApiCall:m,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Remove managerial rights"]})]})}),Object(j.jsx)("div",{className:"card thick-side-borders border-dark no-rounded thick-bottom-border my-rounded-bottom",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{children:"Ban"}),Object(j.jsx)("p",{children:"Change user's access to the system"}),Object(j.jsxs)(Ce,{onClick:this.onBanChange,className:"btn btn-lg my-1 "+(i?"btn-danger":"btn-primary"),disabled:h,pendingApiCall:h,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-user"})," ",i?"Banned":"Access allowed"]})]})})]})),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/users",name:"User Manager"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"User Details"})]}),Object(j.jsx)(Xe,{name:"User Details",children:"Here you can manage users and set their rights"}),x]})}}]),a}(n.Component),sa=na,ia=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-9",children:[Object(j.jsx)("h3",{className:"card-title",children:e.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Creation date: "}),e.createdAt]}),null!==e.description&&""!==e.description&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Description: "}),e.description]})]}),Object(j.jsxs)("div",{className:"col-md-3 mt-md-0 mt-3",children:[Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/rooms/"+e.buildingId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-primary w-100",children:[Object(j.jsx)("i",{className:"fa fa-bars"})," Rooms"]})}),Object(j.jsx)("br",{}),Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/buildings/"+e.buildingId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info w-100 mt-2",children:[Object(j.jsx)("i",{className:"fa fa-pencil"})," Detail"]})}),Object(j.jsx)("br",{}),Object(j.jsxs)(Ce,{onClick:function(){return e.onClickDelete(e.buildingId)},className:"btn btn-danger w-100 mt-2",disabled:e.pendingApiCall,pendingApiCall:e.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Delete"]})]})]})})})},ra=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildings:[],pendingApiCall:!1},e.onClickDelete=function(t){if(window.confirm("Do you really want to delete this building?")){var a,n=[],s=e.state.buildings,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.buildingId===t?n.push(Object(ye.a)(Object(ye.a)({},r),{},{pendingApiCall:!0})):n.push(Object(ye.a)({},r))}}catch(c){i.e(c)}finally{i.f()}e.setState({buildings:n}),X(t).then((function(a){n=(n=Object(rt.a)(e.state.buildings)).filter((function(e){return e.buildingId!==t})),e.setState({buildings:n})})).catch((function(e){return Fe(e)}))}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),F().then((function(t){var a,n=t.data,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){a.value.pendingApiCall=!1}}catch(i){s.e(i)}finally{s.f()}e.setState({buildings:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.buildings.map((function(t){return Object(j.jsx)(ia,Object(ye.a)(Object(ye.a)({},t),{},{onClickDelete:e.onClickDelete}),t.buildingId)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===this.state.buildings.length?Object(j.jsx)(lt,{text:"There are no buildings"}):t),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Buildings"})]}),Object(j.jsx)(Xe,{name:"Buildings",children:"Here you can manage the institution's buildings to help visitors navigate"}),Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/buildings/addBuilding",children:Object(j.jsxs)("button",{type:"button",className:"btn btn-lg mt-3 btn-success mb-4",children:[Object(j.jsx)("i",{className:"fa fa-plus-circle"})," Add new building"]})}),a]})}}]),a}(n.Component),ca=ra,la=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",description:"",pendingApiCall:!1,errors:{}},e.onBuildingCreate=function(t){t.preventDefault(),e.setState({pendingApiCall:!0});var a=e.state.description;""===a&&(a=null),J({name:e.state.name,description:a}).then((function(t){e.setState({pendingApiCall:!1},(function(){return e.props.history.push("/myInstitution/buildings")}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCall:!1,errors:a})}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,s=t.pendingApiCall,i=t.errors;return Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings",name:"Buildings"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"New Building"})]}),Object(j.jsx)(Xe,{name:"New Building",children:"Add a new building belonging to your institution"}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name*",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:i.name&&!0,error:i.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:n,onChange:this.onChange,hasError:i.description&&!0,error:i.description})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onBuildingCreate(t)},className:"btn btn-primary w-100 my-2",disabled:s||""===a,pendingApiCall:s,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Create building"]})]})]})}}]),a}(n.Component),oa=la,da=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.match.params.buildingId,name:"",description:"",pendingApiCallGet:!1,pendingApiCallUpdate:!1,errors:{}},e.onBuildingUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdate:!0});var a=e.state.description;""===a&&(a=null),z({name:e.state.name,description:a},e.state.buildingId).then((function(t){e.setState({pendingApiCallUpdate:!1},(function(){return e.props.history.push("/myInstitution/buildings")}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCallUpdate:!1,errors:a})}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({pendingApiCallGet:!0}),(e=this.state.buildingId,p.a.get("/location/buildings/"+e)).then((function(e){var a=e.data,n=a.name,s=a.description;t.setState({name:n,description:s,pendingApiCallGet:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,s=t.pendingApiCallGet,i=t.pendingApiCallUpdate,r=t.errors;return s?Object(j.jsx)(Ne,{children:Object(j.jsx)(Ve,{})}):Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings",name:"Buildings"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Update Building"})]}),Object(j.jsx)(Xe,{name:"Update Building",children:"Update information of selected building"}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:r.name&&!0,error:r.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:n,onChange:this.onChange,hasError:r.description&&!0,error:r.description})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onBuildingUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:i||""===a,pendingApiCall:i,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update building"]})]})]})}}]),a}(n.Component),ba=da,ja=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-9",children:[Object(j.jsx)("h3",{className:"card-title",children:e.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Creation date: "}),e.createdAt]}),null!==e.description&&""!==e.description&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Description: "}),e.description]})]}),Object(j.jsxs)("div",{className:"col-md-3 mt-md-0 mt-3",children:[Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/showcases/"+e.buildingId+"/"+e.roomId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-primary w-100",children:[Object(j.jsx)("i",{className:"fa fa-bars"})," Show-cases"]})}),Object(j.jsx)("br",{}),Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/rooms/"+e.buildingId+"/"+e.roomId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info w-100 mt-2",children:[Object(j.jsx)("i",{className:"fa fa-pencil"})," Detail"]})}),Object(j.jsx)("br",{}),Object(j.jsxs)(Ce,{onClick:function(){return e.onClickDelete(e.roomId)},className:"btn btn-danger w-100 mt-2",disabled:e.pendingApiCall,pendingApiCall:e.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Delete"]})]})]})})})},ua=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.match.params.buildingId,rooms:[],pendingApiCall:!1},e.onClickDelete=function(t){if(window.confirm("Do you really want to delete this room?")){var a,n=[],s=e.state.rooms,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.roomId===t?n.push(Object(ye.a)(Object(ye.a)({},r),{},{pendingApiCall:!0})):n.push(Object(ye.a)({},r))}}catch(c){i.e(c)}finally{i.f()}e.setState({rooms:n}),K(t).then((function(a){n=(n=Object(rt.a)(e.state.rooms)).filter((function(e){return e.roomId!==t})),e.setState({rooms:n})})).catch((function(e){return Fe(e)}))}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),V(this.state.buildingId).then((function(t){var a,n=t.data,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){a.value.pendingApiCall=!1}}catch(i){s.e(i)}finally{s.f()}e.setState({rooms:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.rooms.map((function(t){return Object(j.jsx)(ja,Object(ye.a)(Object(ye.a)({},t),{},{onClickDelete:e.onClickDelete}),t.roomId)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===this.state.rooms.length?Object(j.jsx)(lt,{text:"There are no rooms"}):t),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings/",name:"Buildings"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Rooms"})]}),Object(j.jsx)(Xe,{name:"Rooms",children:"Here you can manage the institution's rooms to help visitors navigate"}),Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/rooms/"+this.state.buildingId+"/addRoom",children:Object(j.jsxs)("button",{type:"button",className:"btn btn-lg mt-3 btn-success mb-4",children:[Object(j.jsx)("i",{className:"fa fa-plus-circle"})," Add new room"]})}),a]})}}]),a}(n.Component),ha=ua,ma=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.match.params.buildingId,name:"",description:"",pendingApiCall:!1,errors:{}},e.onRoomCreate=function(t){t.preventDefault(),e.setState({pendingApiCall:!0});var a=e.state.description;""===a&&(a=null),Z({name:e.state.name,description:a},e.state.buildingId).then((function(t){e.setState({pendingApiCall:!1},(function(){return e.props.history.push("/myInstitution/rooms/"+e.state.buildingId)}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCall:!1,errors:a})}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,s=t.pendingApiCall,i=t.errors;return Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings/",name:"Buildings"}),Object(j.jsx)(ot,{to:"/myInstitution/rooms/"+this.state.buildingId,name:"Rooms"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"New Room"})]}),Object(j.jsx)(Xe,{name:"New Room",children:"Add a new room belonging to your institution"}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name*",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:i.name&&!0,error:i.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:n,onChange:this.onChange,hasError:i.description&&!0,error:i.description})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onRoomCreate(t)},className:"btn btn-primary w-100 my-2",disabled:s||""===a,pendingApiCall:s,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Create room"]})]})]})}}]),a}(n.Component),pa=ma,ga=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={roomId:e.props.match.params.roomId,buildingId:e.props.match.params.buildingId,name:"",description:"",pendingApiCallGet:!1,pendingApiCallUpdate:!1,errors:{}},e.onRoomUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdate:!0});var a=e.state.description;""===a&&(a=null),q({name:e.state.name,description:a},e.state.roomId).then((function(t){e.setState({pendingApiCallUpdate:!1},(function(){return e.props.history.push("/myInstitution/rooms/"+e.state.buildingId)}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCallUpdate:!1,errors:a})}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({pendingApiCallGet:!0}),(e=this.state.roomId,p.a.get("/location/rooms/"+e)).then((function(e){var a=e.data,n=a.name,s=a.description;t.setState({name:n,description:s,pendingApiCallGet:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,s=t.pendingApiCallGet,i=t.pendingApiCallUpdate,r=t.errors;return s?Object(j.jsx)(Ne,{children:Object(j.jsx)(Ve,{})}):Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings",name:"Buildings"}),Object(j.jsx)(ot,{to:"/myInstitution/rooms/"+this.state.buildingId,name:"Rooms"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Update Room"})]}),Object(j.jsx)(Xe,{name:"Update Room",children:"Update information of selected room"}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:r.name&&!0,error:r.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:n,onChange:this.onChange,hasError:r.description&&!0,error:r.description})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onRoomUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:i||""===a,pendingApiCall:i,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update room"]})]})]})}}]),a}(n.Component),xa=ga,Oa=function(e){return Object(j.jsx)("div",{className:"card mb-4",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-9",children:[Object(j.jsx)("h3",{className:"card-title",children:e.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Creation date: "}),e.createdAt]}),null!==e.description&&""!==e.description&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"font-weight-bold",children:"Description: "}),e.description]})]}),Object(j.jsxs)("div",{className:"col-md-3 mt-md-0 mt-3",children:[Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/showcases/"+e.buildingId+"/"+e.roomId+"/"+e.showcaseId,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-info w-100",children:[Object(j.jsx)("i",{className:"fa fa-pencil"})," Detail"]})}),Object(j.jsx)("br",{}),Object(j.jsxs)(Ce,{onClick:function(){return e.onClickDelete(e.showcaseId)},className:"btn btn-danger w-100 mt-2",disabled:e.pendingApiCall,pendingApiCall:e.pendingApiCall,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-times"})," Delete"]})]})]})})})},fa=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.match.params.buildingId,roomId:e.props.match.params.roomId,showcases:[],pendingApiCall:!1},e.onClickDelete=function(t){if(window.confirm("Do you really want to delete this show-case?")){var a,n=[],s=e.state.showcases,i=Object(ct.a)(s);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.showcaseId===t?n.push(Object(ye.a)(Object(ye.a)({},r),{},{pendingApiCall:!0})):n.push(Object(ye.a)({},r))}}catch(c){i.e(c)}finally{i.f()}e.setState({showcases:n}),W(t).then((function(a){n=(n=Object(rt.a)(e.state.showcases)).filter((function(e){return e.showcaseId!==t})),e.setState({showcases:n})})).catch((function(e){return Fe(e)}))}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({pendingApiCall:!0}),_(this.state.roomId).then((function(t){var a,n=t.data,s=Object(ct.a)(n);try{for(s.s();!(a=s.n()).done;){a.value.pendingApiCall=!1}}catch(i){s.e(i)}finally{s.f()}e.setState({showcases:n,pendingApiCall:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state.showcases.map((function(t){return Object(j.jsx)(Oa,Object(ye.a)(Object(ye.a)({},t),{},{buildingId:e.state.buildingId,onClickDelete:e.onClickDelete}),t.showcaseId)})),a=Object(j.jsx)(Ve,{});return this.state.pendingApiCall||(a=0===this.state.showcases.length?Object(j.jsx)(lt,{text:"There are no show-cases"}):t),Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings/",name:"Buildings"}),Object(j.jsx)(ot,{to:"/myInstitution/rooms/"+this.state.buildingId,name:"Rooms"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Show-cases"})]}),Object(j.jsx)(Xe,{name:"Show-cases",children:"Here you can manage the institution's show-cases to help visitors navigate"}),Object(j.jsx)(b.b,{exact:!0,to:"/myInstitution/showcases/"+this.state.buildingId+"/"+this.state.roomId+"/addShowcase",children:Object(j.jsxs)("button",{type:"button",className:"btn btn-lg mt-3 btn-success mb-4",children:[Object(j.jsx)("i",{className:"fa fa-plus-circle"})," Add new show-case"]})}),a]})}}]),a}(n.Component),va=fa,Ca=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.match.params.buildingId,roomId:e.props.match.params.roomId,name:"",description:"",pendingApiCall:!1,errors:{}},e.onShowcaseCreate=function(t){t.preventDefault(),e.setState({pendingApiCall:!0});var a=e.state.description;""===a&&(a=null),$({name:e.state.name,description:a},e.state.roomId).then((function(t){e.setState({pendingApiCall:!1},(function(){return e.props.history.push("/myInstitution/showcases/"+e.state.buildingId+"/"+e.state.roomId)}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCall:!1,errors:a})}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,s=t.pendingApiCall,i=t.errors;return Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings/",name:"Buildings"}),Object(j.jsx)(ot,{to:"/myInstitution/rooms/"+this.state.buildingId,name:"Rooms"}),Object(j.jsx)(ot,{to:"/myInstitution/showcases/"+this.state.buildingId+"/"+this.state.roomId,name:"Show-cases"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"New Show-case"})]}),Object(j.jsx)(Xe,{name:"New Show-case",children:"Add a new show-case belonging to your institution"}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name*",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:i.name&&!0,error:i.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:n,onChange:this.onChange,hasError:i.description&&!0,error:i.description})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onShowcaseCreate(t)},className:"btn btn-primary w-100 my-2",disabled:s||""===a,pendingApiCall:s,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Create show-case"]})]})]})}}]),a}(n.Component),Ia=Ca,Na=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={buildingId:e.props.match.params.buildingId,roomId:e.props.match.params.roomId,showcaseId:e.props.match.params.showcaseId,name:"",description:"",pendingApiCallGet:!1,pendingApiCallUpdate:!1,errors:{}},e.onShowcaseUpdate=function(t){t.preventDefault(),e.setState({pendingApiCallUpdate:!0});var a=e.state.description;""===a&&(a=null),ee({name:e.state.name,description:a},e.state.showcaseId).then((function(t){e.setState({pendingApiCallUpdate:!1},(function(){return e.props.history.push("/myInstitution/showcases/"+e.state.buildingId+"/"+e.state.roomId)}))})).catch((function(e){return Fe(e)})).catch((function(t){var a=Object(ye.a)({},e.state.errors);t.response.data&&t.response.data.validationErrors&&(a=Object(ye.a)({},t.response.data.validationErrors)),e.setState({pendingApiCallUpdate:!1,errors:a})}))},e.onChange=function(t){var a=Object(ye.a)({},e.state.errors);delete a[t.target.name],e.setState(Object(ve.a)({errors:a},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.setState({pendingApiCallGet:!0}),(e=this.state.showcaseId,p.a.get("/location/showcases/"+e)).then((function(e){var a=e.data,n=a.name,s=a.description;t.setState({name:n,description:s,pendingApiCallGet:!1})})).catch((function(e){return Fe(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,s=t.pendingApiCallGet,i=t.pendingApiCallUpdate,r=t.errors;return s?Object(j.jsx)(Ne,{children:Object(j.jsx)(Ve,{})}):Object(j.jsxs)(Ne,{children:[Object(j.jsxs)(Je,{children:[Object(j.jsx)(ot,{to:"/myInstitution",name:"My Institution"}),Object(j.jsx)(ot,{to:"/myInstitution/buildings/",name:"Buildings"}),Object(j.jsx)(ot,{to:"/myInstitution/rooms/"+this.state.buildingId,name:"Rooms"}),Object(j.jsx)(ot,{to:"/myInstitution/showcases/"+this.state.buildingId+"/"+this.state.roomId,name:"Show-cases"}),Object(j.jsx)("li",{className:"breadcrumb-item active",children:"Update Show-cases"})]}),Object(j.jsx)(Xe,{name:"Update Show-case",children:"Update information of selected show-case"}),Object(j.jsxs)("form",{className:"mt-4",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Name",placeholder:"Enter name",name:"name",value:a,onChange:this.onChange,hasError:r.name&&!0,error:r.name})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(Ie,{label:"Description",type:"textarea",placeholder:"Enter description",name:"description",value:n,onChange:this.onChange,hasError:r.description&&!0,error:r.description})}),Object(j.jsxs)(Ce,{onClick:function(t){return e.onShowcaseUpdate(t)},className:"btn btn-primary w-100 my-2",disabled:i||""===a,pendingApiCall:i,hasChildren:!0,children:[Object(j.jsx)("i",{className:"fa fa-paper-plane"})," Update show-case"]})]})]})}}]),a}(n.Component),wa=Na,Aa=a.p+"static/media/lang-icon.b14051ae.png";var ya=function(e){return Object(j.jsxs)("div",{className:"bg-white",children:[Object(j.jsx)("div",{className:"w-100 info-page-div",children:Object(j.jsx)("div",{className:"container h-100 d-flex align-items-bottom flex-column-reverse",children:Object(j.jsx)("h1",{className:"display-3 font-weight-bold text-white",children:"How does it work?"})})}),Object(j.jsxs)("div",{className:"container py-4 mt-5",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-md-6 d-flex justify-content-center",children:Object(j.jsx)("div",{className:"d-flex flex-column-reverse justify-content-center",children:Object(j.jsx)("img",{alt:"translate",src:Aa,className:"img-fluid info-icon"})})}),Object(j.jsx)("div",{className:"col-12 col-md-6 mt-5 mt-md-0 d-flex justify-content-center",children:Object(j.jsx)("div",{className:"d-flex flex-column justify-content-center",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"h3 mb-3",children:"As a translator you can:"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["After selecting a cultural institution, an exhibit and a language in the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"Translate"})," tab, you can translate the information label or give likes to the translations of other translators"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["All your translations are being versioned, you can see all your translation sequences in the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"My Translations"})," tab"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["After clicking on the detail of a translation sequence, you will see all the translations of the sequence and you can use the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"Rollback"})," button to return to a previous version"]})})]})]})})})]}),Object(j.jsxs)("div",{className:"row mt-5 mb-5",children:[Object(j.jsx)("div",{className:"col-12 col-md-6 d-flex justify-content-center",children:Object(j.jsx)("div",{className:"d-flex flex-column justify-content-center",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"h3 mb-3",children:"As an institution administrator you can:"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["In the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"My Institution"})," tab, you can create your own cultural institution and become its administrator"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["In the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"My Institution"})," tab, you can then click on ",Object(j.jsx)("span",{className:"font-weight-bold",children:"Languages"})," and add the languages you want for your visitors and the translators will translate informational labels into them"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["From the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"My Institution"})," tab, you can also add new exhibits and manage them"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["In the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"Approve"})," tab you can select an exhibit and a language and then choose the best translation that is available. It will be then displayed to visitors in the mobile application."]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["When you view all the exhibits of your cultural institution, you can download images with ",Object(j.jsx)("span",{className:"font-weight-bold",children:"QR codes"}),", which you can then place in the exhibition. Visitors then scan them and see official translations"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("p",{className:"h5",children:["From the ",Object(j.jsx)("span",{className:"font-weight-bold",children:"My Institution"})," tab, you can also add buildings, rooms and show-cases of your institution after clicking ",Object(j.jsx)("span",{className:"font-weight-bold",children:"Navigation"})," button. It will help visitors to orientate"]})})]})]})})}),Object(j.jsx)("div",{className:"col-12 col-md-6 mt-5 mt-md-0 d-flex justify-content-center",children:Object(j.jsx)("div",{className:"d-flex flex-column-reverse justify-content-center",children:Object(j.jsx)("img",{alt:"institution",src:"data:image/png;base64,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eOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjjfGC8ebwAvHG4OI443xwvHGeOF4E3jheHMg4nhjHHG8MV443hgvHG8CLxxvDCKON8YLxxvjheNN4IXjzYGI441xxPHGeOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjjfGC8ebwAvHG4OI443xwvHGeOF4E3jheHMg4nhjHHG8MV443hgvHG8CLxxvDCKON8YLxxvjheNN4IXjzYGI441xxPHGeOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjjfGC8ebwAvHG4OI443xwvHGeOF4E3jheHMg4nhjHHG8MV443hgvHG8CLxxvDCKON8YLxxvjheNN4IXjzYGI441xxPHGeOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjjfGC8ebwAvHG4OI443xwvHGeOF4E3jheHMg4nhjHHG8MV443hgvHG8CLxxvDCKON8YLxxvjheNN4IXjzYGI441xxPHGeOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjjfGC8ebwAvHG4OI443xwvHGeOF4E3jheHMg4nhjHHG8MV443hgvHG8CLxxvDCKON8YLxxvjheNN4IXjzYGI441xxPHGeOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjjfGC8ebwAvHG4OI443xwvHGeOF4E3jheHMg4nhjHHG8MV443hgvHG8CLxxvDCKON8YLxxvjheNN4IXjzYGI441xxPHGeOF4Y7xwvAm8cLwxiDjeGC8cb4wXjjeBF443ByKON8YRxxvjheON8cLxJvDC8cYg4nhjvHC8MV443gReON4ciDjeGEccb4wXjnc9vA6QdNQ6/rcNJPn/1iz3l3S/GPfRa98i6bqOvX5O0l4d665Ue62k/dbxzIbr+O8eJGnLYPtjV79Z0lc6dvqPkvbvWHel2hmSHt+R14MlbR5sf+zq35Z0Q8dOz5T0uo51V6p9UNLDO/J6iKSNg+2PXf1GSd/o2OlxkvwrcdSytsiN1fmhkt4xVmeV9fNpSY8OjulUSYcEn5lL9Y9KekpwMhdI2j34zFyqnyzpFcHJXCZpl+Azc6l++DK0COEd//VBeGPMEd4YL4Q3xgvhjfGabG2ENxY6hDfGC+GN8UJ4Y7wmWxvhjYUO4Y3xQnhjvBDeGK/J1kZ4Y6FDeGO8EN4YL4Q3xmuytRHeWOgQ3hgvhDfGa9bC6y1Ox67Bw19QnxjjM5vaX5N0XnA2T5L0yOAzc6l+vaTzg5PZW9J2wWfmUt0HHC4JTmYfSQ8MPjOX6mZlZivFW/G6bt1bmMFYuxp2kHT1wqPkQQhAAALjENhR0jVDd4XwDk2Y9iEAgSkRQHinFC3GCgEIzIIAwjuLMDIJCEBgSgQQ3ilFi7FCAAKzIIDwziKMTAICEJgSAYR3StFirBCAwCwIILyzCCOTgAAEpkQA4Z1StBgrBCAwCwII7yzCyCQgAIEpEUB4pxQtxgoBCMyCAMI7izAyCQhAYEoEEN4pRYuxQgACsyCA8M4ijEwCAhCYEoHRhHeMdIPbS/rwlOgzVghAoEkCe0q6duiZOzvZbUN3Uq5s32iEfugCAhCAQB8Ct0v6fp8Gujxr4R28ky4DoQ4EIACBVgggvK1EmnlCAALVEEB4qwkFA4EABFohgPC2EmnmCQEIVEMA4a0mFAwEAhBohQDC20qkmScEIFANAYS3mlAwEAhAoBUCCG8rkWaeEIBANQQQ3mpCwUAgAIFWCCC8rUSaeUIAAtUQQHirCQUDgQAEWiGA8LYSaeYJAQhUQwDhrSYUDAQCEGiFAMLbSqSZJwQgUA0BC++N1YyGgUAAAhBogMD/AVizlVx0gz1hAAAAAElFTkSuQmCC",className:"img-fluid info-icon"})})})]})]})]})},Sa=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=Object(j.jsxs)(ge.d,{children:[Object(j.jsx)(ge.b,{exact:!0,path:"/",component:fe}),Object(j.jsx)(ge.b,{exact:!0,path:"/info",component:ya}),Object(j.jsx)(ge.b,{exact:!0,path:"/login",component:Ae}),Object(j.jsx)(ge.b,{exact:!0,path:"/signup",component:Ee}),e.isLoggedIn&&Object(j.jsx)(ge.b,{exact:!0,path:"/profile",component:Ke}),e.isLoggedIn&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution",component:it}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/addLanguages",component:bt}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/addExhibit",component:vt}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/exhibits",component:Nt}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/exhibits/:exhibitId",component:At}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/approve",component:Jt}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/approve/:exhibitId/:languageId",component:Kt}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/buildings",component:ca}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/buildings/addBuilding",component:oa}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/buildings/:buildingId",component:ba}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/rooms/:buildingId",component:ha}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/rooms/:buildingId/addRoom",component:pa}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/rooms/:buildingId/:roomId",component:xa}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/showcases/:buildingId/:roomId",component:va}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/showcases/:buildingId/:roomId/addShowcase",component:Ia}),e.isInstitutionOwner&&Object(j.jsx)(ge.b,{exact:!0,path:"/myInstitution/showcases/:buildingId/:roomId/:showcaseId",component:wa}),e.isTranslator&&Object(j.jsx)(ge.b,{exact:!0,path:"/institutions",component:Et}),e.isTranslator&&Object(j.jsx)(ge.b,{exact:!0,path:"/institutions/:institutionId",component:Dt}),e.isTranslator&&Object(j.jsx)(ge.b,{exact:!0,path:"/institutions/:institutionId/translate/:exhibitId/:languageId",component:Mt}),e.isTranslator&&Object(j.jsx)(ge.b,{exact:!0,path:"/institutions/:institutionId/rate/:exhibitId/:languageId",component:Qt}),e.isTranslator&&Object(j.jsx)(ge.b,{exact:!0,path:"/myTranslations",component:qt}),e.isTranslator&&Object(j.jsx)(ge.b,{exact:!0,path:"/myTranslations/:exhibitId/:languageId",component:$t}),e.isAdmin&&Object(j.jsx)(ge.b,{exact:!0,path:"/users",component:aa}),e.isAdmin&&Object(j.jsx)(ge.b,{exact:!0,path:"/users/:userId",component:sa}),Object(j.jsx)(ge.a,{to:"/"})]});return Object(j.jsx)(pe,{children:t})}}]),a}(n.Component),Ea=Object(h.b)((function(e){return{user:e}}))(Sa);r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h.a,{store:Ye,children:Object(j.jsx)(b.a,{children:Object(j.jsx)(Ea,{})})})}),document.getElementById("root"))},77:function(e,t,a){}},[[143,1,2]]]);
//# sourceMappingURL=main.9dce142b.chunk.js.map